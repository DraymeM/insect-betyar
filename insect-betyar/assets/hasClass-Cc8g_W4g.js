import{r,j as R}from"./router-Cj35iyZR.js";import{i as j,o as S,u as p}from"./useEventCallback-CVuv0uFq.js";import{g as b}from"./Fade-BbMigd9H.js";function K(){const n=r.useRef(!0),e=r.useRef(()=>n.current);return r.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const W=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",F=typeof document<"u",v=F||W?r.useLayoutEffect:r.useEffect;function Q(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const O=r.createContext(j?window:void 0);O.Provider;function I(){return r.useContext(O)}const C=n=>!n||typeof n=="function"?n:e=>{n.current=e};function N(n,e){const i=C(n),t=C(e);return s=>{i&&i(s),t&&t(s)}}function h(n,e){return r.useMemo(()=>N(n,e),[n,e])}const g=(n,e)=>j?n==null?(e||S()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function X(n,e){const i=I(),[t,s]=r.useState(()=>g(n,i==null?void 0:i.document));if(!t){const o=g(n);o&&s(o)}return r.useEffect(()=>{},[e,t]),r.useEffect(()=>{const o=g(n);o!==t&&s(o)},[n,t]),t}function P({children:n,in:e,onExited:i,mountOnEnter:t,unmountOnExit:s}){const o=r.useRef(null),c=r.useRef(e),a=p(i);r.useEffect(()=>{e?c.current=!0:a(o.current)},[e,a]);const l=h(o,b(n)),u=r.cloneElement(n,{ref:l});return e?u:s||!c.current&&t?null:u}const G=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}function $(n){let{onEnter:e,onEntering:i,onEntered:t,onExit:s,onExiting:o,onExited:c,addEndListener:a,children:l}=n,u=_(n,G);const d=r.useRef(null),E=h(d,b(l)),f=m=>x=>{m&&d.current&&m(d.current,x)},y=r.useCallback(f(e),[e]),w=r.useCallback(f(i),[i]),T=r.useCallback(f(t),[t]),L=r.useCallback(f(s),[s]),k=r.useCallback(f(o),[o]),M=r.useCallback(f(c),[c]),D=r.useCallback(f(a),[a]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:y},i&&{onEntering:w},t&&{onEntered:T},s&&{onExit:L},o&&{onExiting:k},c&&{onExited:M},a&&{addEndListener:D},{children:typeof l=="function"?(m,x)=>l(m,Object.assign({},x,{ref:E})):r.cloneElement(l,{ref:E})})}const z=["component"];function U(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}const V=r.forwardRef((n,e)=>{let{component:i}=n,t=U(n,z);const s=$(t);return R.jsx(i,Object.assign({ref:e},s))});function q({in:n,onTransition:e}){const i=r.useRef(null),t=r.useRef(!0),s=p(e);return v(()=>{if(!i.current)return;let o=!1;return s({in:n,element:i.current,initial:t.current,isStale:()=>o}),()=>{o=!0}},[n,s]),v(()=>(t.current=!1,()=>{t.current=!0}),[]),i}function A({children:n,in:e,onExited:i,onEntered:t,transition:s}){const[o,c]=r.useState(!e);e&&o&&c(!1);const a=q({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),i==null||i(u.element)))};Promise.resolve(s(u)).then(d,E=>{throw u.in||c(!0),E})}}),l=h(a,b(n));return o&&!e?null:r.cloneElement(n,{ref:l})}function Y(n,e,i){return n?R.jsx(V,Object.assign({},i,{component:n})):e?R.jsx(A,Object.assign({},i,{transition:e})):R.jsx(P,Object.assign({},i))}function Z(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{K as a,X as b,Q as c,I as d,Z as h,Y as r,h as u};
