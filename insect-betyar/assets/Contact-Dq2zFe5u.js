import{r as i,u as g,j as t,c as h,F as A,k as le,C as ie,P as T,p as ce,v as O,w as me,z as L}from"./index-CDuyu8Ry.js";import{S as de}from"./Section-CgrOyvrS.js";import{C as U,R as ue}from"./Row-B_m1XSUH.js";import{a as pe}from"./useEventCallback-CDI2OqK6.js";import{d as he}from"./divWithClassName-ghakr_Z2.js";import{A as fe}from"./Anchor-CP5Z853N.js";import{F as S,a as K,b as ge,c as xe}from"./FormControl-B7nc_dui.js";import{h as je,m as ve}from"./ElementChildren-BKswqgxA.js";import"./warning-CjqVzRcO.js";const G=he("h4");G.displayName="DivStyledAsH4";const Y=i.forwardRef(({className:s,bsPrefix:e,as:a=G,...r},n)=>(e=g(e,"alert-heading"),t.jsx(a,{ref:n,className:h(s,e),...r})));Y.displayName="AlertHeading";const J=i.forwardRef(({className:s,bsPrefix:e,as:a=fe,...r},n)=>(e=g(e,"alert-link"),t.jsx(a,{ref:n,className:h(s,e),...r})));J.displayName="AlertLink";const W=i.forwardRef((s,e)=>{const{bsPrefix:a,show:r=!0,closeLabel:n="Close alert",closeVariant:o,className:l,children:d,variant:p="primary",onClose:m,dismissible:u,transition:x=A,...f}=pe(s,{show:"onClose"}),y=g(a,"alert"),b=le(N=>{m&&m(!1,N)}),v=x===!0?A:x,c=t.jsxs("div",{role:"alert",...v?void 0:f,ref:e,className:h(l,y,p&&`${y}-${p}`,u&&`${y}-dismissible`),children:[u&&t.jsx(ie,{onClick:b,"aria-label":n,variant:o}),d]});return v?t.jsx(v,{unmountOnExit:!0,...f,ref:void 0,in:r,children:c}):r?c:null});W.displayName="Alert";const H=Object.assign(W,{Link:J,Heading:Y}),$=i.forwardRef(({bsPrefix:s,className:e,htmlFor:a,...r},n)=>{const{controlId:o}=i.useContext(S);return s=g(s,"form-check-label"),t.jsx("label",{...r,ref:n,htmlFor:a||o,className:h(e,s)})});$.displayName="FormCheckLabel";const X=i.forwardRef(({id:s,bsPrefix:e,bsSwitchPrefix:a,inline:r=!1,reverse:n=!1,disabled:o=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:u,className:x,style:f,title:y="",type:b="checkbox",label:v,children:c,as:N="input",...k},C)=>{e=g(e,"form-check"),a=g(a,"form-switch");const{controlId:w}=i.useContext(S),F=i.useMemo(()=>({controlId:s||w}),[w,s]),j=!c&&v!=null&&v!==!1||je(c,$),R=t.jsx(K,{...k,type:b==="switch"?"checkbox":b,ref:C,isValid:l,isInvalid:d,disabled:o,as:N});return t.jsx(S.Provider,{value:F,children:t.jsx("div",{style:f,className:h(x,j&&e,r&&`${e}-inline`,n&&`${e}-reverse`,b==="switch"&&a),children:c||t.jsxs(t.Fragment,{children:[R,j&&t.jsx($,{title:y,children:v}),m&&t.jsx(ge,{type:u,tooltip:p,children:m})]})})})});X.displayName="FormCheck";const E=Object.assign(X,{Input:K,Label:$}),Q=i.forwardRef(({className:s,bsPrefix:e,as:a="div",...r},n)=>(e=g(e,"form-floating"),t.jsx(a,{ref:n,className:h(s,e),...r})));Q.displayName="FormFloating";const z=i.forwardRef(({controlId:s,as:e="div",...a},r)=>{const n=i.useMemo(()=>({controlId:s}),[s]);return t.jsx(S.Provider,{value:n,children:t.jsx(e,{...a,ref:r})})});z.displayName="FormGroup";const Z=i.forwardRef(({as:s="label",bsPrefix:e,column:a=!1,visuallyHidden:r=!1,className:n,htmlFor:o,...l},d)=>{const{controlId:p}=i.useContext(S);e=g(e,"form-label");let m="col-form-label";typeof a=="string"&&(m=`${m} ${m}-${a}`);const u=h(n,e,r&&"visually-hidden",a&&m);return o=o||p,a?t.jsx(U,{ref:d,as:"label",className:u,htmlFor:o,...l}):t.jsx(s,{ref:d,className:u,htmlFor:o,...l})});Z.displayName="FormLabel";const P=i.forwardRef(({bsPrefix:s,className:e,id:a,...r},n)=>{const{controlId:o}=i.useContext(S);return s=g(s,"form-range"),t.jsx("input",{...r,type:"range",ref:n,className:h(e,s),id:a||o})});P.displayName="FormRange";const ee=i.forwardRef(({bsPrefix:s,size:e,htmlSize:a,className:r,isValid:n=!1,isInvalid:o=!1,id:l,...d},p)=>{const{controlId:m}=i.useContext(S);return s=g(s,"form-select"),t.jsx("select",{...d,size:a,ref:p,className:h(r,s,e&&`${s}-${e}`,n&&"is-valid",o&&"is-invalid"),id:l||m})});ee.displayName="FormSelect";const se=i.forwardRef(({bsPrefix:s,className:e,as:a="small",muted:r,...n},o)=>(s=g(s,"form-text"),t.jsx(a,{...n,ref:o,className:h(e,s,r&&"text-muted")})));se.displayName="FormText";const ae=i.forwardRef((s,e)=>t.jsx(E,{...s,ref:e,type:"switch"}));ae.displayName="Switch";const ye=Object.assign(ae,{Input:E.Input,Label:E.Label}),te=i.forwardRef(({bsPrefix:s,className:e,children:a,controlId:r,label:n,...o},l)=>(s=g(s,"form-floating"),t.jsxs(z,{ref:l,className:h(e,s),controlId:r,...o,children:[a,t.jsx("label",{htmlFor:r,children:n})]})));te.displayName="FloatingLabel";const be={_ref:T.any,validated:T.bool,as:T.elementType},D=i.forwardRef(({className:s,validated:e,as:a="form",...r},n)=>t.jsx(a,{...r,ref:n,className:h(s,e&&"was-validated")}));D.displayName="Form";D.propTypes=be;const _=Object.assign(D,{Group:z,Control:xe,Floating:Q,Check:E,Switch:ye,Label:Z,Text:se,Range:P,Select:ee,FloatingLabel:te}),M=1e3;function Ne(s,e,a){const r=(s-e)/(a-e)*100;return Math.round(r*M)/M}function V({min:s,now:e,max:a,label:r,visuallyHidden:n,striped:o,animated:l,className:d,style:p,variant:m,bsPrefix:u,...x},f){return t.jsx("div",{ref:f,...x,role:"progressbar",className:h(d,`${u}-bar`,{[`bg-${m}`]:m,[`${u}-bar-animated`]:l,[`${u}-bar-striped`]:l||o}),style:{width:`${Ne(e,s,a)}%`,...p},"aria-valuenow":e,"aria-valuemin":s,"aria-valuemax":a,children:n?t.jsx("span",{className:"visually-hidden",children:r}):r})}const re=i.forwardRef(({isChild:s=!1,...e},a)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=g(r.bsPrefix,"progress"),s)return V(r,a);const{min:n,now:o,max:l,label:d,visuallyHidden:p,striped:m,animated:u,bsPrefix:x,variant:f,className:y,children:b,...v}=r;return t.jsx("div",{ref:a,...v,className:h(y,x),children:b?ve(b,c=>i.cloneElement(c,{isChild:!0})):V({min:n,now:o,max:l,label:d,visuallyHidden:p,striped:m,animated:u,bsPrefix:x,variant:f},a)})});re.displayName="ProgressBar";const I={_origin:"https://api.emailjs.com"},we=(s,e="https://api.emailjs.com")=>{I._userID=s,I._origin=e},ne=(s,e,a)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class q{constructor(e){this.status=e.status,this.text=e.responseText}}const oe=(s,e,a={})=>new Promise((r,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const d=new q(l);d.status===200||d.text==="OK"?r(d):n(d)}),o.addEventListener("error",({target:l})=>{n(new q(l))}),o.open("POST",I._origin+s,!0),Object.keys(a).forEach(l=>{o.setRequestHeader(l,a[l])}),o.send(e)}),Ce=(s,e,a,r)=>{const n=r||I._userID;return ne(n,s,e),oe("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:s,template_id:e,template_params:a}),{"Content-type":"application/json"})},Fe=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Se=(s,e,a,r)=>{const n=r||I._userID,o=Fe(a);ne(n,s,e);const l=new FormData(o);return l.append("lib_version","3.2.0"),l.append("service_id",s),l.append("template_id",e),l.append("user_id",n),oe("/api/v1.0/email/send-form",l)},ke={init:we,send:Ce,sendForm:Se},B=L.object({name:L.string().min(3,"A név legalább 3 karakter hosszú kell legyen"),email:L.string().email("Érvényes email címet adj meg"),message:L.string().min(10,"Az üzenet legalább 10 karakter hosszú kell legyen")}),Re=({onSubmit:s})=>{const[e,a]=i.useState({name:"",email:"",message:""}),[r,n]=i.useState({}),[o,l]=i.useState(!1),[d,p]=i.useState(!1),[m,u]=i.useState(""),[x,f]=i.useState(0),y=c=>{var w,F,j;const{name:N,value:k}=c.target;a({...e,[N]:k});const C=B.safeParse({...e,[N]:k});if(C.success)n({});else{const R=C.error.format();n({name:(w=R.name)==null?void 0:w._errors[0],email:(F=R.email)==null?void 0:F._errors[0],message:(j=R.message)==null?void 0:j._errors[0]})}},b=async c=>{var C,w,F;c.preventDefault(),l(!0),u(""),p(!1),f(0);const N=B.safeParse(e);if(!N.success){const j=N.error.format();n({name:(C=j.name)==null?void 0:C._errors[0],email:(w=j.email)==null?void 0:w._errors[0],message:(F=j.message)==null?void 0:F._errors[0]}),l(!1);return}const k=setInterval(()=>{f(j=>Math.min(j+10,90))},200);try{await s(e),f(100),p(!0),a({name:"",email:"",message:""}),n({})}catch{f(0),u("Nem sikerült elküldeni az üzeneted. Kérlek próbáld újra!")}finally{clearInterval(k),l(!1)}},v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return t.jsx(ce,{fluid:!0,className:"text-light py-5",children:t.jsx(ue,{className:"justify-content-center",children:t.jsx(U,{sm:20,md:24,lg:30,className:"w-full",children:t.jsxs(O.div,{className:"p-4",children:[t.jsx("h2",{className:"text-center mb-4 text-light",children:"Küld el nekünk az üzeneted"}),d&&t.jsx(H,{variant:"success",children:"✅ Sikeresen elküldted az üzeneted!"}),m&&t.jsxs(H,{variant:"danger",children:["❌ ",m]}),t.jsxs(_,{onSubmit:b,children:[t.jsx(O.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[{id:"formName",label:"Név",name:"name",type:"text",placeholder:"Írd be a neved"},{id:"formEmail",label:"Email cím",name:"email",type:"email",placeholder:"Írd be az email címed"},{id:"formMessage",label:"Üzenet",name:"message",type:"textarea",placeholder:"Írd be az üzeneted"}].map(c=>t.jsx(O.div,{variants:v,children:t.jsxs(_.Group,{className:"mb-4",children:[t.jsx(_.Label,{className:"fw-bold text-light",children:c.label}),c.type==="textarea"?t.jsx(_.Control,{as:"textarea",rows:5,name:c.name,placeholder:c.placeholder,value:e[c.name],onChange:y,className:`bg-dark text-light border-secondary shadow-sm ${r[c.name]?"is-invalid":""}`}):t.jsx(_.Control,{type:c.type,name:c.name,placeholder:c.placeholder,value:e[c.name],onChange:y,className:`bg-dark text-light border-secondary shadow-sm ${r[c.name]?"is-invalid":""}`}),r[c.name]&&t.jsx("div",{className:"text-danger mt-1",children:r[c.name]})]})},c.id))}),o&&t.jsx(re,{animated:!0,now:x,label:`${x}%`,className:"mb-3"}),t.jsx("div",{className:"text-center ",children:t.jsx(me,{type:"submit",disabled:o,className:"subm-btn bg-info px-5 py-2 fw-bold shadow-sm",children:o?"Küldés folyamatban...":"Küldés"})})]})]})})})})},Ae=()=>{const s=async e=>{await ke.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",e,"YOUR_USER_ID")};return t.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5 w-100 text-center overflow-hidden",children:t.jsx(de,{className:"d-flex justify-content-center align-items-center",children:t.jsx(Re,{onSubmit:s})})})};export{Ae as C};
