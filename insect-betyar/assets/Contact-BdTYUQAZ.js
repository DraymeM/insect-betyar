import{r as u,j as a}from"./router-Cj35iyZR.js";import{S as V}from"./Section-Duwpcl6d.js";import{d as z,c as k,C as Y,m as D,z as E,y as A}from"./index-DR-O2BqG.js";import{R as J,C as W}from"./Row-ZTra7bSQ.js";import{u as G}from"./hook-nsUnICyS.js";import{e as X}from"./useEventCallback-CVuv0uFq.js";import{d as Q,C as Z}from"./CloseButton-DlfE48LI.js";import{A as ee}from"./Anchor-BoNI41tU.js";import{F as I}from"./Fade-D7xMHK7M.js";import{F as S}from"./Form-2lYjLh8c.js";import{m as se}from"./ElementChildren-B-26LL-j.js";import{B as ae}from"./Button-wZmybCw3.js";const L=Q("h4");L.displayName="DivStyledAsH4";const T=u.forwardRef(({className:s,bsPrefix:e,as:r=L,...t},n)=>(e=z(e,"alert-heading"),a.jsx(r,{ref:n,className:k(s,e),...t})));T.displayName="AlertHeading";const M=u.forwardRef(({className:s,bsPrefix:e,as:r=ee,...t},n)=>(e=z(e,"alert-link"),a.jsx(r,{ref:n,className:k(s,e),...t})));M.displayName="AlertLink";const B=u.forwardRef((s,e)=>{const{bsPrefix:r,show:t=!0,closeLabel:n="Close alert",closeVariant:o,className:i,children:m,variant:f="primary",onClose:p,dismissible:c,transition:h=I,...d}=G(s,{show:"onClose"}),x=z(r,"alert"),j=X(v=>{p&&p(!1,v)}),b=h===!0?I:h,l=a.jsxs("div",{role:"alert",...b?void 0:d,ref:e,className:k(i,x,f&&`${x}-${f}`,c&&`${x}-dismissible`),children:[c&&a.jsx(Z,{onClick:j,"aria-label":n,variant:o}),m]});return b?a.jsx(b,{unmountOnExit:!0,...d,ref:void 0,in:t,children:l}):t?l:null});B.displayName="Alert";const P=Object.assign(B,{Link:M,Heading:T}),F=1e3;function te(s,e,r){const t=(s-e)/(r-e)*100;return Math.round(t*F)/F}function O({min:s,now:e,max:r,label:t,visuallyHidden:n,striped:o,animated:i,className:m,style:f,variant:p,bsPrefix:c,...h},d){return a.jsx("div",{ref:d,...h,role:"progressbar",className:k(m,`${c}-bar`,{[`bg-${p}`]:p,[`${c}-bar-animated`]:i,[`${c}-bar-striped`]:i||o}),style:{width:`${te(e,s,r)}%`,...f},"aria-valuenow":e,"aria-valuemin":s,"aria-valuemax":r,children:n?a.jsx("span",{className:"visually-hidden",children:t}):t})}const q=u.forwardRef(({isChild:s=!1,...e},r)=>{const t={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(t.bsPrefix=z(t.bsPrefix,"progress"),s)return O(t,r);const{min:n,now:o,max:i,label:m,visuallyHidden:f,striped:p,animated:c,bsPrefix:h,variant:d,className:x,children:j,...b}=t;return a.jsx("div",{ref:r,...b,className:k(x,h),children:j?se(j,l=>u.cloneElement(l,{isChild:!0})):O({min:n,now:o,max:i,label:m,visuallyHidden:f,striped:p,animated:c,bsPrefix:h,variant:d},r)})});q.displayName="ProgressBar";const _={_origin:"https://api.emailjs.com"},re=(s,e="https://api.emailjs.com")=>{_._userID=s,_._origin=e},K=(s,e,r)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ${constructor(e){this.status=e.status,this.text=e.responseText}}const U=(s,e,r={})=>new Promise((t,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:i})=>{const m=new $(i);m.status===200||m.text==="OK"?t(m):n(m)}),o.addEventListener("error",({target:i})=>{n(new $(i))}),o.open("POST",_._origin+s,!0),Object.keys(r).forEach(i=>{o.setRequestHeader(i,r[i])}),o.send(e)}),ne=(s,e,r,t)=>{const n=t||_._userID;return K(n,s,e),U("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:s,template_id:e,template_params:r}),{"Content-type":"application/json"})},ie=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},le=(s,e,r,t)=>{const n=t||_._userID,o=ie(r);K(n,s,e);const i=new FormData(o);return i.append("lib_version","3.2.0"),i.append("service_id",s),i.append("template_id",e),i.append("user_id",n),U("/api/v1.0/email/send-form",i)},oe={init:re,send:ne,sendForm:le},H=E.object({name:E.string().min(3,"A név legalább 3 karakter hosszú kell legyen"),email:E.string().email("Érvényes email címet adj meg"),message:E.string().min(10,"Az üzenet legalább 10 karakter hosszú kell legyen")}),me=({onSubmit:s})=>{const[e,r]=u.useState({name:"",email:"",message:""}),[t,n]=u.useState({}),[o,i]=u.useState(!1),[m,f]=u.useState(!1),[p,c]=u.useState(""),[h,d]=u.useState(0),x=l=>{var N,w,g;const{name:v,value:C}=l.target;r({...e,[v]:C});const y=H.safeParse({...e,[v]:C});if(y.success)n({});else{const R=y.error.format();n({name:(N=R.name)==null?void 0:N._errors[0],email:(w=R.email)==null?void 0:w._errors[0],message:(g=R.message)==null?void 0:g._errors[0]})}},j=async l=>{var y,N,w;l.preventDefault(),i(!0),c(""),f(!1),d(0);const v=H.safeParse(e);if(!v.success){const g=v.error.format();n({name:(y=g.name)==null?void 0:y._errors[0],email:(N=g.email)==null?void 0:N._errors[0],message:(w=g.message)==null?void 0:w._errors[0]}),i(!1);return}const C=setInterval(()=>{d(g=>Math.min(g+10,90))},200);try{await s(e),d(100),f(!0),r({name:"",email:"",message:""}),n({}),A.success(" Sikeresen elküldted az üzeneted!",{})}catch{d(0),c("Nem sikerült elküldeni az üzeneted. Kérlek próbáld újra!"),A.error(" Nem sikerült elküldeni az üzenetet. Kérlek próbáld újra!",{})}finally{clearInterval(C),i(!1)}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsx(Y,{fluid:!0,className:"text-light py-5",children:a.jsx(J,{className:"justify-content-center",children:a.jsx(W,{sm:20,md:24,lg:30,className:"w-full",children:a.jsxs(D.div,{className:"p-4",children:[a.jsx("h2",{className:"text-center mb-4 text-light",children:"Küld el nekünk az üzeneted"}),m&&a.jsx(P,{variant:"success",children:"✅ Sikeresen elküldted az üzeneted!"}),p&&a.jsxs(P,{variant:"danger",children:["❌ ",p]}),a.jsxs(S,{onSubmit:j,children:[a.jsx(D.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[{id:"formName",label:"Név",name:"name",type:"text",placeholder:"Írd be a neved"},{id:"formEmail",label:"Email cím",name:"email",type:"email",placeholder:"Írd be az email címed"},{id:"formMessage",label:"Üzenet",name:"message",type:"textarea",placeholder:"Írd be az üzeneted"}].map(l=>a.jsx(D.div,{variants:b,children:a.jsxs(S.Group,{className:"mb-4",children:[a.jsx(S.Label,{className:"fw-bold text-light",children:l.label}),l.type==="textarea"?a.jsx(S.Control,{as:"textarea",rows:5,name:l.name,placeholder:l.placeholder,value:e[l.name],onChange:x,className:`bg-dark text-light border-secondary shadow-sm ${t[l.name]?"is-invalid":""}`}):a.jsx(S.Control,{type:l.type,name:l.name,placeholder:l.placeholder,value:e[l.name],onChange:x,className:`bg-dark text-light border-secondary shadow-sm ${t[l.name]?"is-invalid":""}`}),t[l.name]&&a.jsx("div",{className:"text-danger mt-1",children:t[l.name]})]})},l.id))}),o&&a.jsx(q,{animated:!0,now:h,label:`${h}%`,className:"mb-3"}),a.jsx("div",{className:"text-center ",children:a.jsx(ae,{type:"submit",disabled:o,className:"subm-btn bg-info px-5 py-2 fw-bold shadow-sm",children:o?"Küldés folyamatban...":"Küldés"})})]})]})})})})},Ne=()=>{const s=async e=>{await oe.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",e,"YOUR_USER_ID")};return a.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5 w-100 text-center overflow-hidden",children:a.jsx(V,{className:"d-flex justify-content-center align-items-center",children:a.jsx(me,{onSubmit:s})})})};export{Ne as C};
