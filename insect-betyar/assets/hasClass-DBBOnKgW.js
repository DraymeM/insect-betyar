import{r as i,f as C,o as N,g as x,j as g}from"./index-CDuyu8Ry.js";import{u as O}from"./useEventCallback-CDI2OqK6.js";function Q(){const n=i.useRef(!0),e=i.useRef(()=>n.current);return i.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const $=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I=typeof document<"u",v=I||$?i.useLayoutEffect:i.useEffect;function X(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const j=i.createContext(C?window:void 0);j.Provider;function S(){return i.useContext(j)}const W=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",F=typeof document<"u",Y=F||W?i.useLayoutEffect:i.useEffect,p=n=>!n||typeof n=="function"?n:e=>{n.current=e};function P(n,e){const o=p(n),t=p(e);return s=>{o&&o(s),t&&t(s)}}function h(n,e){return i.useMemo(()=>P(n,e),[n,e])}const b=(n,e)=>C?n==null?(e||N()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Z(n,e){const o=S(),[t,s]=i.useState(()=>b(n,o==null?void 0:o.document));if(!t){const r=b(n);r&&s(r)}return i.useEffect(()=>{},[e,t]),i.useEffect(()=>{const r=b(n);r!==t&&s(r)},[n,t]),t}function G({children:n,in:e,onExited:o,mountOnEnter:t,unmountOnExit:s}){const r=i.useRef(null),c=i.useRef(e),a=O(o);i.useEffect(()=>{e?c.current=!0:a(r.current)},[e,a]);const f=h(r,x(n)),u=i.cloneElement(n,{ref:f});return e?u:s||!c.current&&t?null:u}const _=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function z(n,e){if(n==null)return{};var o={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;o[t]=n[t]}return o}function U(n){let{onEnter:e,onEntering:o,onEntered:t,onExit:s,onExiting:r,onExited:c,addEndListener:a,children:f}=n,u=z(n,_);const d=i.useRef(null),E=h(d,x(f)),l=R=>m=>{R&&d.current&&R(d.current,m)},y=i.useCallback(l(e),[e]),w=i.useCallback(l(o),[o]),L=i.useCallback(l(t),[t]),T=i.useCallback(l(s),[s]),M=i.useCallback(l(r),[r]),k=i.useCallback(l(c),[c]),D=i.useCallback(l(a),[a]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:y},o&&{onEntering:w},t&&{onEntered:L},s&&{onExit:T},r&&{onExiting:M},c&&{onExited:k},a&&{addEndListener:D},{children:typeof f=="function"?(R,m)=>f(R,Object.assign({},m,{ref:E})):i.cloneElement(f,{ref:E})})}const V=["component"];function q(n,e){if(n==null)return{};var o={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;o[t]=n[t]}return o}const A=i.forwardRef((n,e)=>{let{component:o}=n,t=q(n,V);const s=U(t);return g.jsx(o,Object.assign({ref:e},s))});function B({in:n,onTransition:e}){const o=i.useRef(null),t=i.useRef(!0),s=O(e);return v(()=>{if(!o.current)return;let r=!1;return s({in:n,element:o.current,initial:t.current,isStale:()=>r}),()=>{r=!0}},[n,s]),v(()=>(t.current=!1,()=>{t.current=!0}),[]),o}function H({children:n,in:e,onExited:o,onEntered:t,transition:s}){const[r,c]=i.useState(!e);e&&r&&c(!1);const a=B({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),o==null||o(u.element)))};Promise.resolve(s(u)).then(d,E=>{throw u.in||c(!0),E})}}),f=h(a,x(n));return r&&!e?null:i.cloneElement(n,{ref:f})}function nn(n,e,o){return n?g.jsx(A,Object.assign({},o,{component:n})):e?g.jsx(H,Object.assign({},o,{transition:e})):g.jsx(G,Object.assign({},o))}function en(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{S as a,Z as b,Q as c,X as d,Y as e,en as h,nn as r,h as u};
