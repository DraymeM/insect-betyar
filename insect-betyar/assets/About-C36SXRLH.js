const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Card-ChnyEg01.js","assets/index-B8k1fdh0.js","assets/index-Cinlshd_.css","assets/link-BXzzRJ7Z.js","assets/index-B5pJRu3V.js","assets/bootstrap-DnVUw_vK.css","assets/CategoryCard-B1tIxcLE.js","assets/index-T5EaSphQ.js","assets/useLocation-DknBZ1-J.js","assets/repo-DfJRYLqT.js","assets/FormControl-DmIgLpP-.js","assets/warning-CKTfXEky.js","assets/Button-BvdC542z.js","assets/Fade-Bqt8CQTl.js","assets/useTimeout-DgY8huv4.js","assets/CloseButton-BqTua61D.js","assets/LimitSelector-CP0zGU8S.js","assets/Pagination--371iKuB.js"])))=>i.map(i=>d[i]);
import{r,u as k,j as e,a as L,b as X,d as J,O as Y,R as $,S as G,_ as F}from"./index-B8k1fdh0.js";import{F as Z,G as ee,a as te}from"./index-T5EaSphQ.js";import{u as ae}from"./useLocation-DknBZ1-J.js";import{a as re,b as ne}from"./repo-DfJRYLqT.js";/* empty css                      */import{a as P,c as se}from"./FormControl-DmIgLpP-.js";import{B as oe}from"./warning-CKTfXEky.js";import{u as ce}from"./useTimeout-DgY8huv4.js";import{E as ie,a as le,u as ue}from"./Button-BvdC542z.js";import{F as de}from"./Fade-Bqt8CQTl.js";import{C as me}from"./CloseButton-BqTua61D.js";const M=r.createContext(null);M.displayName="InputGroupContext";const A=r.forwardRef(({className:a,bsPrefix:t,as:n="span",...d},o)=>(t=k(t,"input-group-text"),e.jsx(n,{ref:o,className:L(a,t),...d})));A.displayName="InputGroupText";const he=a=>e.jsx(A,{children:e.jsx(P,{type:"checkbox",...a})}),fe=a=>e.jsx(A,{children:e.jsx(P,{type:"radio",...a})}),z=r.forwardRef(({bsPrefix:a,size:t,hasValidation:n,className:d,as:o="div",...l},c)=>{a=k(a,"input-group");const u=r.useMemo(()=>({}),[]);return e.jsx(M.Provider,{value:u,children:e.jsx(o,{ref:c,...l,className:L(d,a,t&&`${a}-${t}`,n&&"has-validation")})})});z.displayName="InputGroup";const pe=Object.assign(z,{Text:A,Radio:fe,Checkbox:he}),xe={[le]:"showing",[ie]:"showing show"},U=r.forwardRef((a,t)=>e.jsx(de,{...a,ref:t,transitionClasses:xe}));U.displayName="ToastFade";const V=r.createContext({onClose(){}}),H=r.forwardRef(({bsPrefix:a,closeLabel:t="Close",closeVariant:n,closeButton:d=!0,className:o,children:l,...c},u)=>{a=k(a,"toast-header");const f=r.useContext(V),p=ue(C=>{f==null||f.onClose==null||f.onClose(C)});return e.jsxs("div",{ref:u,...c,className:L(a,o),children:[l,d&&e.jsx(me,{"aria-label":t,variant:n,onClick:p,"data-dismiss":"toast"})]})});H.displayName="ToastHeader";const W=r.forwardRef(({className:a,bsPrefix:t,as:n="div",...d},o)=>(t=k(t,"toast-body"),e.jsx(n,{ref:o,className:L(a,t),...d})));W.displayName="ToastBody";const Q=r.forwardRef(({bsPrefix:a,className:t,transition:n=U,show:d=!0,animation:o=!0,delay:l=5e3,autohide:c=!1,onClose:u,onEntered:f,onExit:p,onExiting:C,onEnter:j,onEntering:N,onExited:w,bg:R,...T},x)=>{a=k(a,"toast");const I=r.useRef(l),y=r.useRef(u);r.useEffect(()=>{I.current=l,y.current=u},[l,u]);const _=ce(),S=!!(c&&d),g=r.useCallback(()=>{S&&(y.current==null||y.current())},[S]);r.useEffect(()=>{_.set(g,I.current)},[_,g]);const s=r.useMemo(()=>({onClose:u}),[u]),i=!!(n&&o),v=e.jsx("div",{...T,ref:x,className:L(a,t,R&&`bg-${R}`,!i&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return e.jsx(V.Provider,{value:s,children:i&&n?e.jsx(n,{in:d,onEnter:j,onEntering:N,onEntered:f,onExit:p,onExiting:C,onExited:w,unmountOnExit:!0,children:v}):v})});Q.displayName="Toast";const B=Object.assign(Q,{Body:W,Header:H}),ge={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},q=r.forwardRef(({bsPrefix:a,position:t,containerPosition:n,className:d,as:o="div",...l},c)=>(a=k(a,"toast-container"),e.jsx(o,{ref:c,...l,className:L(a,t&&ge[t],n&&`position-${n}`,d)})));q.displayName="ToastContainer";function D(a,t,n){var d=this,o=r.useRef(null),l=r.useRef(0),c=r.useRef(null),u=r.useRef([]),f=r.useRef(),p=r.useRef(),C=r.useRef(a),j=r.useRef(!0);C.current=a;var N=typeof window<"u",w=!t&&t!==0&&N;if(typeof a!="function")throw new TypeError("Expected a function");t=+t||0;var R=!!(n=n||{}).leading,T=!("trailing"in n)||!!n.trailing,x="maxWait"in n,I="debounceOnServer"in n&&!!n.debounceOnServer,y=x?Math.max(+n.maxWait||0,t):null;r.useEffect(function(){return j.current=!0,function(){j.current=!1}},[]);var _=r.useMemo(function(){var S=function(h){var m=u.current,E=f.current;return u.current=f.current=null,l.current=h,p.current=C.current.apply(E,m)},g=function(h,m){w&&cancelAnimationFrame(c.current),c.current=w?requestAnimationFrame(h):setTimeout(h,m)},s=function(h){if(!j.current)return!1;var m=h-o.current;return!o.current||m>=t||m<0||x&&h-l.current>=y},i=function(h){return c.current=null,T&&u.current?S(h):(u.current=f.current=null,p.current)},v=function h(){var m=Date.now();if(s(m))return i(m);if(j.current){var E=t-(m-o.current),K=x?Math.min(E,y-(m-l.current)):E;g(h,K)}},b=function(){if(N||I){var h=Date.now(),m=s(h);if(u.current=[].slice.call(arguments),f.current=d,o.current=h,m){if(!c.current&&j.current)return l.current=o.current,g(v,t),R?S(o.current):p.current;if(x)return g(v,t),S(o.current)}return c.current||g(v,t),p.current}};return b.cancel=function(){c.current&&(w?cancelAnimationFrame(c.current):clearTimeout(c.current)),l.current=0,u.current=o.current=f.current=c.current=null},b.isPending=function(){return!!c.current},b.flush=function(){return c.current?i(Date.now()):p.current},b},[R,x,t,y,T,w,N,I]);return _}const je=({onSearch:a})=>{const[t,n]=r.useState(""),d=()=>{t.trim()!==""&&a(t)},o=l=>{n(l.target.value)};return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(pe,{className:"mb-6",style:{width:"100%",maxWidth:"400px"},children:[e.jsx(se,{placeholder:"Keresés...","aria-label":"Search",value:t,onChange:o,className:"bg-dark text-light border-secondary shadow-sm placeholder-text-light"}),e.jsx(oe,{variant:"outline-secondary",onClick:d,style:{backgroundColor:"#41d5f5",borderColor:"#41d5f5",color:"#fff"},children:e.jsx(Z,{})})]})})};function ye(a){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"},child:[]}]})(a)}const ve=$.lazy(()=>F(()=>import("./Card-ChnyEg01.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ce=$.lazy(()=>F(()=>import("./CategoryCard-B1tIxcLE.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,4,13,14,15,5]))),Ne=$.lazy(()=>F(()=>import("./LimitSelector-CP0zGU8S.js"),__vite__mapDeps([16,1,2]))),O=$.lazy(()=>F(()=>import("./Pagination--371iKuB.js"),__vite__mapDeps([17,1,2,7]))),Fe=()=>{const a=X(),t=ae(),{category:n,id:d}=J({strict:!1}),o=new URLSearchParams(t.search),l=parseInt(o.get("page")||"1",10),c=parseInt(o.get("limit")||"5",10),u=o.get("search")||"",[f,p]=r.useState([]),[C,j]=r.useState([]),[N,w]=r.useState(0),[R,T]=r.useState(!1),x=D(s=>{if(s<1||s>Math.ceil(N/c))return;const i=new URLSearchParams(t.search);i.set("page",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),I=D(s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.set("limit",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),y=s=>{const i=new URLSearchParams(t.search);i.set("search",s),i.set("page","1"),a({to:`${t.pathname}?${i.toString()}`})};r.useEffect(()=>{(async()=>{try{const i=await re();j(i);const v=await ne(),b=n?v.filter(E=>E.category===n):v,h=u.toLowerCase(),m=u?b.filter(E=>E.name.toLowerCase().includes(h)):b;w(m.length),p(m.slice((l-1)*c,l*c)),T(m.length===0)}catch(i){console.error("Error loading the page:",i)}})()},[c,n,u,l]);const _=s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.has("limit")||i.set("limit","10"),i.delete("category"),a({to:`/about/category/${s}?${i.toString()}`})},S=()=>{const s=new URLSearchParams(t.search);s.delete("category"),s.delete("search"),s.delete("page"),s.delete("limit"),a({to:`/about?${s.toString()}`})},g=Math.ceil(N/c);return d?e.jsx(Y,{}):e.jsxs(r.Suspense,{fallback:e.jsx(G,{}),children:[e.jsxs("div",{className:"page",children:[!n&&e.jsx("div",{className:"card-list",children:C.map(s=>e.jsx(Ce,{category:s.name,image:s.image,onClick:()=>_(s.name)},s.name))}),n&&e.jsx(e.Fragment,{children:e.jsxs(r.Suspense,{fallback:e.jsx(G,{}),children:[e.jsxs("div",{className:"controls-container",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs("button",{onClick:S,className:"btn btn-info text-white d-inline-flex align-items-center",children:[e.jsx(te,{className:"me-2"}),"Vissza"]})}),e.jsx(je,{onSearch:y}),e.jsx(Ne,{value:c,options:["5","10","15","25"],limitLabel:"Limit: ",onLimitChange:I})]}),e.jsx(O,{currentPage:l,totalPages:g,onPageChange:x}),f.length>0?e.jsx("div",{className:"card-list",children:f.map(s=>e.jsx(ve,{id:s.id,name:s.name,picture:s.picture,category:n},s.id))}):e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"text-info fs-4",children:"Nincsen ilyen termék a keresési feltételek alapján!"})}),e.jsx(O,{currentPage:l,totalPages:g,onPageChange:x})]})})]}),e.jsx(q,{position:"bottom-end",className:"p-3",children:e.jsxs(B,{bg:"info",onClose:()=>T(!1),show:R,delay:3e3,autohide:!0,animation:!0,className:`fade ${R?"show slide-in":"slide-out"}`,children:[e.jsx(B.Header,{closeButton:!0,children:e.jsx("strong",{className:"me-auto",children:e.jsx(ye,{size:25})})}),e.jsx(B.Body,{className:"text-white",children:"Nincsen ilyen termék a keresési feltételek alapján!"})]})})]})};export{Fe as A,D as c};
