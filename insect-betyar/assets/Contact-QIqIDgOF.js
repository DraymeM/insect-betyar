import{r as i,j as t}from"./router-CAEm-37Z.js";import{S as ie}from"./Section-C3MmdivL.js";import{u as g,c as h,C as ce,m as z,z as L,y as A}from"./index-nKWK0Wqp.js";import{C as U,R as me}from"./Row-DNGuaIR_.js";import{u as de}from"./hook-Cn0CBGad.js";import{e as ue}from"./useEventCallback-DPgXPFwG.js";import{d as pe,C as he}from"./CloseButton-CXhTuSYG.js";import{A as fe}from"./Anchor-Dwnr1EjH.js";import{F as H}from"./Fade-Cz9xL04f.js";import{P as T}from"./index-CscOspqo.js";import{F as k,a as G,b as ge,c as xe}from"./FormControl-DLmQEf5B.js";import{h as je,m as ve}from"./ElementChildren-BGFdfr0H.js";import"./warning-C13o4bTx.js";import{B as ye}from"./Button-4BwiO8O-.js";const Y=pe("h4");Y.displayName="DivStyledAsH4";const J=i.forwardRef(({className:s,bsPrefix:e,as:a=Y,...r},n)=>(e=g(e,"alert-heading"),t.jsx(a,{ref:n,className:h(s,e),...r})));J.displayName="AlertHeading";const W=i.forwardRef(({className:s,bsPrefix:e,as:a=fe,...r},n)=>(e=g(e,"alert-link"),t.jsx(a,{ref:n,className:h(s,e),...r})));W.displayName="AlertLink";const X=i.forwardRef((s,e)=>{const{bsPrefix:a,show:r=!0,closeLabel:n="Close alert",closeVariant:o,className:l,children:d,variant:p="primary",onClose:m,dismissible:u,transition:x=H,...f}=de(s,{show:"onClose"}),y=g(a,"alert"),b=ue(N=>{m&&m(!1,N)}),v=x===!0?H:x,c=t.jsxs("div",{role:"alert",...v?void 0:f,ref:e,className:h(l,y,p&&`${y}-${p}`,u&&`${y}-dismissible`),children:[u&&t.jsx(he,{onClick:b,"aria-label":n,variant:o}),d]});return v?t.jsx(v,{unmountOnExit:!0,...f,ref:void 0,in:r,children:c}):r?c:null});X.displayName="Alert";const M=Object.assign(X,{Link:W,Heading:J}),$=i.forwardRef(({bsPrefix:s,className:e,htmlFor:a,...r},n)=>{const{controlId:o}=i.useContext(k);return s=g(s,"form-check-label"),t.jsx("label",{...r,ref:n,htmlFor:a||o,className:h(e,s)})});$.displayName="FormCheckLabel";const Q=i.forwardRef(({id:s,bsPrefix:e,bsSwitchPrefix:a,inline:r=!1,reverse:n=!1,disabled:o=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:u,className:x,style:f,title:y="",type:b="checkbox",label:v,children:c,as:N="input",...S},C)=>{e=g(e,"form-check"),a=g(a,"form-switch");const{controlId:w}=i.useContext(k),F=i.useMemo(()=>({controlId:s||w}),[w,s]),j=!c&&v!=null&&v!==!1||je(c,$),R=t.jsx(G,{...S,type:b==="switch"?"checkbox":b,ref:C,isValid:l,isInvalid:d,disabled:o,as:N});return t.jsx(k.Provider,{value:F,children:t.jsx("div",{style:f,className:h(x,j&&e,r&&`${e}-inline`,n&&`${e}-reverse`,b==="switch"&&a),children:c||t.jsxs(t.Fragment,{children:[R,j&&t.jsx($,{title:y,children:v}),m&&t.jsx(ge,{type:u,tooltip:p,children:m})]})})})});Q.displayName="FormCheck";const E=Object.assign(Q,{Input:G,Label:$}),Z=i.forwardRef(({className:s,bsPrefix:e,as:a="div",...r},n)=>(e=g(e,"form-floating"),t.jsx(a,{ref:n,className:h(s,e),...r})));Z.displayName="FormFloating";const O=i.forwardRef(({controlId:s,as:e="div",...a},r)=>{const n=i.useMemo(()=>({controlId:s}),[s]);return t.jsx(k.Provider,{value:n,children:t.jsx(e,{...a,ref:r})})});O.displayName="FormGroup";const P=i.forwardRef(({as:s="label",bsPrefix:e,column:a=!1,visuallyHidden:r=!1,className:n,htmlFor:o,...l},d)=>{const{controlId:p}=i.useContext(k);e=g(e,"form-label");let m="col-form-label";typeof a=="string"&&(m=`${m} ${m}-${a}`);const u=h(n,e,r&&"visually-hidden",a&&m);return o=o||p,a?t.jsx(U,{ref:d,as:"label",className:u,htmlFor:o,...l}):t.jsx(s,{ref:d,className:u,htmlFor:o,...l})});P.displayName="FormLabel";const ee=i.forwardRef(({bsPrefix:s,className:e,id:a,...r},n)=>{const{controlId:o}=i.useContext(k);return s=g(s,"form-range"),t.jsx("input",{...r,type:"range",ref:n,className:h(e,s),id:a||o})});ee.displayName="FormRange";const se=i.forwardRef(({bsPrefix:s,size:e,htmlSize:a,className:r,isValid:n=!1,isInvalid:o=!1,id:l,...d},p)=>{const{controlId:m}=i.useContext(k);return s=g(s,"form-select"),t.jsx("select",{...d,size:a,ref:p,className:h(r,s,e&&`${s}-${e}`,n&&"is-valid",o&&"is-invalid"),id:l||m})});se.displayName="FormSelect";const ae=i.forwardRef(({bsPrefix:s,className:e,as:a="small",muted:r,...n},o)=>(s=g(s,"form-text"),t.jsx(a,{...n,ref:o,className:h(e,s,r&&"text-muted")})));ae.displayName="FormText";const te=i.forwardRef((s,e)=>t.jsx(E,{...s,ref:e,type:"switch"}));te.displayName="Switch";const be=Object.assign(te,{Input:E.Input,Label:E.Label}),re=i.forwardRef(({bsPrefix:s,className:e,children:a,controlId:r,label:n,...o},l)=>(s=g(s,"form-floating"),t.jsxs(O,{ref:l,className:h(e,s),controlId:r,...o,children:[a,t.jsx("label",{htmlFor:r,children:n})]})));re.displayName="FloatingLabel";const Ne={_ref:T.any,validated:T.bool,as:T.elementType},D=i.forwardRef(({className:s,validated:e,as:a="form",...r},n)=>t.jsx(a,{...r,ref:n,className:h(s,e&&"was-validated")}));D.displayName="Form";D.propTypes=Ne;const _=Object.assign(D,{Group:O,Control:xe,Floating:Z,Check:E,Switch:be,Label:P,Text:ae,Range:ee,Select:se,FloatingLabel:re}),B=1e3;function we(s,e,a){const r=(s-e)/(a-e)*100;return Math.round(r*B)/B}function V({min:s,now:e,max:a,label:r,visuallyHidden:n,striped:o,animated:l,className:d,style:p,variant:m,bsPrefix:u,...x},f){return t.jsx("div",{ref:f,...x,role:"progressbar",className:h(d,`${u}-bar`,{[`bg-${m}`]:m,[`${u}-bar-animated`]:l,[`${u}-bar-striped`]:l||o}),style:{width:`${we(e,s,a)}%`,...p},"aria-valuenow":e,"aria-valuemin":s,"aria-valuemax":a,children:n?t.jsx("span",{className:"visually-hidden",children:r}):r})}const ne=i.forwardRef(({isChild:s=!1,...e},a)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=g(r.bsPrefix,"progress"),s)return V(r,a);const{min:n,now:o,max:l,label:d,visuallyHidden:p,striped:m,animated:u,bsPrefix:x,variant:f,className:y,children:b,...v}=r;return t.jsx("div",{ref:a,...v,className:h(y,x),children:b?ve(b,c=>i.cloneElement(c,{isChild:!0})):V({min:n,now:o,max:l,label:d,visuallyHidden:p,striped:m,animated:u,bsPrefix:x,variant:f},a)})});ne.displayName="ProgressBar";const I={_origin:"https://api.emailjs.com"},Ce=(s,e="https://api.emailjs.com")=>{I._userID=s,I._origin=e},oe=(s,e,a)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class q{constructor(e){this.status=e.status,this.text=e.responseText}}const le=(s,e,a={})=>new Promise((r,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const d=new q(l);d.status===200||d.text==="OK"?r(d):n(d)}),o.addEventListener("error",({target:l})=>{n(new q(l))}),o.open("POST",I._origin+s,!0),Object.keys(a).forEach(l=>{o.setRequestHeader(l,a[l])}),o.send(e)}),Fe=(s,e,a,r)=>{const n=r||I._userID;return oe(n,s,e),le("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:s,template_id:e,template_params:a}),{"Content-type":"application/json"})},ke=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Se=(s,e,a,r)=>{const n=r||I._userID,o=ke(a);oe(n,s,e);const l=new FormData(o);return l.append("lib_version","3.2.0"),l.append("service_id",s),l.append("template_id",e),l.append("user_id",n),le("/api/v1.0/email/send-form",l)},Re={init:Ce,send:Fe,sendForm:Se},K=L.object({name:L.string().min(3,"A név legalább 3 karakter hosszú kell legyen"),email:L.string().email("Érvényes email címet adj meg"),message:L.string().min(10,"Az üzenet legalább 10 karakter hosszú kell legyen")}),_e=({onSubmit:s})=>{const[e,a]=i.useState({name:"",email:"",message:""}),[r,n]=i.useState({}),[o,l]=i.useState(!1),[d,p]=i.useState(!1),[m,u]=i.useState(""),[x,f]=i.useState(0),y=c=>{var w,F,j;const{name:N,value:S}=c.target;a({...e,[N]:S});const C=K.safeParse({...e,[N]:S});if(C.success)n({});else{const R=C.error.format();n({name:(w=R.name)==null?void 0:w._errors[0],email:(F=R.email)==null?void 0:F._errors[0],message:(j=R.message)==null?void 0:j._errors[0]})}},b=async c=>{var C,w,F;c.preventDefault(),l(!0),u(""),p(!1),f(0);const N=K.safeParse(e);if(!N.success){const j=N.error.format();n({name:(C=j.name)==null?void 0:C._errors[0],email:(w=j.email)==null?void 0:w._errors[0],message:(F=j.message)==null?void 0:F._errors[0]}),l(!1);return}const S=setInterval(()=>{f(j=>Math.min(j+10,90))},200);try{await s(e),f(100),p(!0),a({name:"",email:"",message:""}),n({}),A.success(" Sikeresen elküldted az üzeneted!",{})}catch{f(0),u("Nem sikerült elküldeni az üzeneted. Kérlek próbáld újra!"),A.error(" Nem sikerült elküldeni az üzenetet. Kérlek próbáld újra!",{})}finally{clearInterval(S),l(!1)}},v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return t.jsx(ce,{fluid:!0,className:"text-light py-5",children:t.jsx(me,{className:"justify-content-center",children:t.jsx(U,{sm:20,md:24,lg:30,className:"w-full",children:t.jsxs(z.div,{className:"p-4",children:[t.jsx("h2",{className:"text-center mb-4 text-light",children:"Küld el nekünk az üzeneted"}),d&&t.jsx(M,{variant:"success",children:"✅ Sikeresen elküldted az üzeneted!"}),m&&t.jsxs(M,{variant:"danger",children:["❌ ",m]}),t.jsxs(_,{onSubmit:b,children:[t.jsx(z.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.2}}},children:[{id:"formName",label:"Név",name:"name",type:"text",placeholder:"Írd be a neved"},{id:"formEmail",label:"Email cím",name:"email",type:"email",placeholder:"Írd be az email címed"},{id:"formMessage",label:"Üzenet",name:"message",type:"textarea",placeholder:"Írd be az üzeneted"}].map(c=>t.jsx(z.div,{variants:v,children:t.jsxs(_.Group,{className:"mb-4",children:[t.jsx(_.Label,{className:"fw-bold text-light",children:c.label}),c.type==="textarea"?t.jsx(_.Control,{as:"textarea",rows:5,name:c.name,placeholder:c.placeholder,value:e[c.name],onChange:y,className:`bg-dark text-light border-secondary shadow-sm ${r[c.name]?"is-invalid":""}`}):t.jsx(_.Control,{type:c.type,name:c.name,placeholder:c.placeholder,value:e[c.name],onChange:y,className:`bg-dark text-light border-secondary shadow-sm ${r[c.name]?"is-invalid":""}`}),r[c.name]&&t.jsx("div",{className:"text-danger mt-1",children:r[c.name]})]})},c.id))}),o&&t.jsx(ne,{animated:!0,now:x,label:`${x}%`,className:"mb-3"}),t.jsx("div",{className:"text-center ",children:t.jsx(ye,{type:"submit",disabled:o,className:"subm-btn bg-info px-5 py-2 fw-bold shadow-sm",children:o?"Küldés folyamatban...":"Küldés"})})]})]})})})})},Ke=()=>{const s=async e=>{await Re.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",e,"YOUR_USER_ID")};return t.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5 w-100 text-center overflow-hidden",children:t.jsx(ie,{className:"d-flex justify-content-center align-items-center",children:t.jsx(_e,{onSubmit:s})})})};export{Ke as C};
