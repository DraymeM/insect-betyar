import{r as o,b as fe,j as i,i as pe,h as me,L as he}from"./router-CuCJBdoM.js";import{b as ge,h as ye,g as ve}from"./index-BuUMi195.js";import{q as ee,w as T,x as be,u as M,c as L,n as te,l as ne,f as we,F as W,H as z,g as xe,I as je,P as Oe,j as se,m as k,h as Re,C as Ee}from"./index-DYXuOJkO.js";import{S as Ce}from"./Spinner-B7fjks0r.js";import{R as Se,C as K}from"./Row-L1JLk3ZM.js";import{c as ke,d as B,u as Me,b as V,r as Ne,h as q}from"./hasClass-CIrHpRcW.js";import{w as Te}from"./warning-C13o4bTx.js";import{a as Fe}from"./hook-CaUNaBxC.js";import{p as Le,h as Ae,a as Ie,c as _e,e as $e,o as Pe,f as De,b as ze,d as Be}from"./bootstrap-gBMG6YgA.js";import{u as U}from"./useEventCallback-DfW3uSuk.js";import{u as Ue}from"./useIsomorphicEffect-BiFlSZI_.js";function G(){return o.useState(null)}var Y=Object.prototype.hasOwnProperty;function J(e,t,n){for(n of e.keys())if(F(n,t))return n}function F(e,t){var n,s,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&F(e[s],t[s]););return s===-1}if(n===Set){if(e.size!==t.size)return!1;for(s of e)if(r=s,r&&typeof r=="object"&&(r=J(t,r),!r)||!t.has(r))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e)if(r=s[0],r&&typeof r=="object"&&(r=J(t,r),!r)||!F(s[1],t.get(r)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(Y.call(e,n)&&++s&&!Y.call(t,n)||!(n in t)||!F(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}function He(e){const t=ke();return[e[0],o.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}const We=Le({defaultModifiers:[Ae,Ie,_e,$e,Pe,De,ze,Be]}),Ke=["enabled","placement","strategy","modifiers"];function Ve(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}const qe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Ge={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:s}=e.elements,r=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in s){const l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(n.id)!==-1)return;s.setAttribute("aria-describedby",l?`${l},${n.id}`:n.id)}}},Ye=[];function Je(e,t,n={}){let{enabled:s=!0,placement:r="bottom",strategy:l="absolute",modifiers:u=Ye}=n,y=Ve(n,Ke);const f=o.useRef(u),c=o.useRef(),p=o.useCallback(()=>{var a;(a=c.current)==null||a.update()},[]),g=o.useCallback(()=>{var a;(a=c.current)==null||a.forceUpdate()},[]),[b,d]=He(o.useState({placement:r,update:p,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),h=o.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:a})=>{const v={},m={};Object.keys(a.elements).forEach(x=>{v[x]=a.styles[x],m[x]=a.attributes[x]}),d({state:a,styles:v,attributes:m,update:p,forceUpdate:g,placement:a.placement})}}),[p,g,d]),w=o.useMemo(()=>(F(f.current,u)||(f.current=u),f.current),[u]);return o.useEffect(()=>{!c.current||!s||c.current.setOptions({placement:r,strategy:l,modifiers:[...w,h,qe]})},[l,r,h,s,w]),o.useEffect(()=>{if(!(!s||e==null||t==null))return c.current=We(e,t,Object.assign({},y,{placement:r,strategy:l,modifiers:[...w,Ge,h]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,d(a=>Object.assign({},a,{attributes:{},styles:{popper:{}}})))}},[s,e,t]),b}const Q=()=>{};function Qe(e){return e.button===0}function Xe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const A=e=>e&&("current"in e?e.current:e),X={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Ze(e,t=Q,{disabled:n,clickTrigger:s="click"}={}){const r=o.useRef(!1),l=o.useRef(!1),u=o.useCallback(c=>{const p=A(e);Te(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!p||Xe(c)||!Qe(c)||!!B(p,c.target)||l.current,l.current=!1},[e]),y=U(c=>{const p=A(e);p&&B(p,c.target)?l.current=!0:l.current=!1}),f=U(c=>{r.current||t(c)});o.useEffect(()=>{var c,p;if(n||e==null)return;const g=ee(A(e)),b=g.defaultView||window;let d=(c=b.event)!=null?c:(p=b.parent)==null?void 0:p.event,h=null;X[s]&&(h=T(g,X[s],y,!0));const w=T(g,s,u,!0),a=T(g,s,m=>{if(m===d){d=void 0;return}f(m)});let v=[];return"ontouchstart"in g.documentElement&&(v=[].slice.call(g.body.children).map(m=>T(m,"mousemove",Q))),()=>{h==null||h(),w(),a(),v.forEach(m=>m())}},[e,n,s,u,y,f])}function et(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function tt(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function nt({enabled:e,enableEvents:t,placement:n,flip:s,offset:r,fixed:l,containerPadding:u,arrowElement:y,popperConfig:f={}}){var c,p,g,b;const d=et(f.modifiers);return Object.assign({},f,{placement:n,enabled:e,strategy:l?"fixed":f.strategy,modifiers:tt(Object.assign({},d,{eventListeners:{enabled:t,options:(c=d.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},d.preventOverflow,{options:Object.assign({padding:u},(p=d.preventOverflow)==null?void 0:p.options)}),offset:{options:Object.assign({offset:r},(g=d.offset)==null?void 0:g.options)},arrow:Object.assign({},d.arrow,{enabled:!!y,options:Object.assign({},(b=d.arrow)==null?void 0:b.options,{element:y})}),flip:Object.assign({enabled:!!s},d.flip)}))})}const st=()=>{};function rt(e,t,{disabled:n,clickTrigger:s}={}){const r=t||st;Ze(e,r,{disabled:n,clickTrigger:s});const l=U(u=>{be(u)&&r(u)});o.useEffect(()=>{if(n||e==null)return;const u=ee(A(e));let y=(u.defaultView||window).event;const f=T(u,"keyup",c=>{if(c===y){y=void 0;return}l(c)});return()=>{f()}},[e,n,l])}const re=o.forwardRef((e,t)=>{const{flip:n,offset:s,placement:r,containerPadding:l,popperConfig:u={},transition:y,runTransition:f}=e,[c,p]=G(),[g,b]=G(),d=Me(p,t),h=V(e.container),w=V(e.target),[a,v]=o.useState(!e.show),m=Je(w,c,nt({placement:r,enableEvents:!!e.show,containerPadding:l||5,flip:n,offset:s,arrowElement:g,popperConfig:u}));e.show&&a&&v(!1);const x=(...$)=>{v(!0),e.onExited&&e.onExited(...$)},O=e.show||!a;if(rt(c,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!O)return null;const{onExit:C,onExiting:E,onEnter:R,onEntering:I,onEntered:_}=e;let N=e.children(Object.assign({},m.attributes.popper,{style:m.styles.popper,ref:d}),{popper:m,placement:r,show:!!e.show,arrowProps:Object.assign({},m.attributes.arrow,{style:m.styles.arrow,ref:b})});return N=Ne(y,f,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:N,onExit:C,onExiting:E,onExited:x,onEnter:R,onEntering:I,onEntered:_}),h?fe.createPortal(N,h):null});re.displayName="Overlay";const ie=o.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=M(t,"popover-header"),i.jsx(n,{ref:r,className:L(e,t),...s})));ie.displayName="PopoverHeader";const H=o.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=M(t,"popover-body"),i.jsx(n,{ref:r,className:L(e,t),...s})));H.displayName="PopoverBody";function oe(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function ae(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const it=o.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:r,body:l,arrowProps:u,hasDoneInitialMeasure:y,popper:f,show:c,...p},g)=>{const b=M(e,"popover"),d=te(),[h]=(t==null?void 0:t.split("-"))||[],w=oe(h,d);let a=s;return c&&!y&&(a={...s,...ae(f==null?void 0:f.strategy)}),i.jsxs("div",{ref:g,role:"tooltip",style:a,"x-placement":h,className:L(n,b,h&&`bs-popover-${w}`),...p,children:[i.jsx("div",{className:"popover-arrow",...u}),l?i.jsx(H,{children:r}):r]})}),ot=Object.assign(it,{Header:ie,Body:H,POPPER_OFFSET:[0,8]}),ce=o.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:r,arrowProps:l,hasDoneInitialMeasure:u,popper:y,show:f,...c},p)=>{e=M(e,"tooltip");const g=te(),[b]=(t==null?void 0:t.split("-"))||[],d=oe(b,g);let h=s;return f&&!u&&(h={...s,...ae(y==null?void 0:y.strategy)}),i.jsxs("div",{ref:p,style:h,role:"tooltip","x-placement":b,className:L(n,e,`bs-tooltip-${d}`),...c,children:[i.jsx("div",{className:"tooltip-arrow",...l}),i.jsx("div",{className:`${e}-inner`,children:r})]})});ce.displayName="Tooltip";const le=Object.assign(ce,{TOOLTIP_OFFSET:[0,6]});function at(e){const t=o.useRef(null),n=M(void 0,"popover"),s=M(void 0,"tooltip"),r=o.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(q(t.current,n))return ot.POPPER_OFFSET;if(q(t.current,s))return le.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,s]);return[t,[r]]}function ct(e,t){const{ref:n}=e,{ref:s}=t;e.ref=n.__wrapped||(n.__wrapped=r=>n(z(r))),t.ref=s.__wrapped||(s.__wrapped=r=>s(z(r)))}const ue=o.forwardRef(({children:e,transition:t=W,popperConfig:n={},rootClose:s=!1,placement:r="top",show:l=!1,...u},y)=>{const f=o.useRef({}),[c,p]=o.useState(null),[g,b]=at(u.offset),d=ne(y,g),h=t===!0?W:t||void 0,w=we(a=>{p(a),n==null||n.onFirstUpdate==null||n.onFirstUpdate(a)});return Ue(()=>{c&&u.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[c,u.target]),o.useEffect(()=>{l||p(null)},[l]),i.jsx(re,{...u,ref:d,popperConfig:{...n,modifiers:b.concat(n.modifiers||[]),onFirstUpdate:w},transition:h,rootClose:s,placement:r,show:l,children:(a,{arrowProps:v,popper:m,show:x})=>{var O;ct(a,v);const C=m==null?void 0:m.placement,E=Object.assign(f.current,{state:m==null?void 0:m.state,scheduleUpdate:m==null?void 0:m.update,placement:C,outOfBoundaries:(m==null||(O=m.state)==null||(O=O.modifiersData.hide)==null?void 0:O.isReferenceHidden)||!1,strategy:n.strategy}),R=!!c;return typeof e=="function"?e({...a,placement:C,show:x,...!t&&x&&{className:"show"},popper:E,arrowProps:v,hasDoneInitialMeasure:R}):o.cloneElement(e,{...a,placement:C,arrowProps:v,popper:E,hasDoneInitialMeasure:R,className:L(e.props.className,!t&&x&&"show"),style:{...e.props.style,...a.style}})}})});ue.displayName="Overlay";function lt(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function Z(e,t,n){const[s]=t,r=s.currentTarget,l=s.relatedTarget||s.nativeEvent[n];(!l||l!==r)&&!B(r,l)&&e(...t)}Oe.oneOf(["click","hover","focus"]);const ut=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:s={},show:r,defaultShow:l=!1,onToggle:u,delay:y,placement:f,flip:c=f&&f.indexOf("auto")!==-1,...p})=>{const g=o.useRef(null),b=ne(g,xe(n)),d=je(),h=o.useRef(""),[w,a]=Fe(r,l,u),v=lt(y),{onFocus:m,onBlur:x,onClick:O}=typeof n!="function"?o.Children.only(n).props:{},C=j=>{b(z(j))},E=o.useCallback(()=>{if(d.clear(),h.current="show",!v.show){a(!0);return}d.set(()=>{h.current==="show"&&a(!0)},v.show)},[v.show,a,d]),R=o.useCallback(()=>{if(d.clear(),h.current="hide",!v.hide){a(!1);return}d.set(()=>{h.current==="hide"&&a(!1)},v.hide)},[v.hide,a,d]),I=o.useCallback((...j)=>{E(),m==null||m(...j)},[E,m]),_=o.useCallback((...j)=>{R(),x==null||x(...j)},[R,x]),N=o.useCallback((...j)=>{a(!w),O==null||O(...j)},[O,a,w]),$=o.useCallback((...j)=>{Z(E,j,"fromElement")},[E]),de=o.useCallback((...j)=>{Z(R,j,"toElement")},[R]),P=e==null?[]:[].concat(e),S={ref:C};return P.indexOf("click")!==-1&&(S.onClick=N),P.indexOf("focus")!==-1&&(S.onFocus=I,S.onBlur=_),P.indexOf("hover")!==-1&&(S.onMouseOver=$,S.onMouseOut=de),i.jsxs(i.Fragment,{children:[typeof n=="function"?n(S):o.cloneElement(n,S),i.jsx(ue,{...p,show:w,onHide:R,flip:c,placement:f,popperConfig:s,target:g.current,children:t})]})},dt=({onClick:e})=>{const[t,n]=o.useState(!1),s=()=>{n(!0),setTimeout(()=>n(!1),1e3),e()};return i.jsx("div",{className:"mt-auto d-flex mt-5 gap-2",children:i.jsxs(se,{className:"flex-grow-1 d-flex p-0 overflow-hidden border-0 rounded shadow-sm",style:{height:"3rem",borderRadius:"1rem",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",backgroundImage:"linear-gradient(to right, #2f336e, rgb(58, 212, 255))",backgroundSize:"200% 100%",transition:"background-size 0.3s ease"},onMouseEnter:r=>{r.currentTarget.style.backgroundSize="250% 100%"},onMouseLeave:r=>{r.currentTarget.style.backgroundSize="200% 100%"},onClick:s,children:[i.jsx(k.div,{className:"d-flex align-items-center justify-content-center bg-primary rounded text-white px-3",style:{minWidth:"3rem"},initial:{opacity:1},animate:{opacity:t?0:1,x:t?"50%":0},transition:{duration:.3},children:i.jsx(ge,{size:35})}),i.jsx(k.div,{className:"d-flex align-items-center justify-content-center bg-primary rounded text-white px-3",style:{minWidth:"3rem"},initial:{opacity:0},animate:{opacity:t?1:0,x:t?"50%":0},transition:{duration:.3},children:i.jsx(ye,{size:35})}),i.jsx(k.div,{className:"d-flex align-items-center justify-content-center text-xl text-white fw-bold flex-grow-1",style:{paddingLeft:"1rem",paddingRight:"1rem",marginRight:"10vh"},initial:{opacity:1},animate:{opacity:t?0:1},transition:{opacity:{duration:.3}},children:"Kosárba"})]})})},D="https://www.museumselection.co.uk/images/products/large/28889.jpg",Ot=()=>{const{id:e,category:t}=pe({strict:!1}),n=me(),[s,r]=o.useState(null),[l,u]=o.useState(D),{dispatch:y,setShowToast:f}=Re(),c=new URLSearchParams(n.search),p=c.get("page")||"1",g=c.get("limit")||"10";o.useEffect(()=>{(async()=>{try{const a=(await(await fetch("/insect-betyar/data.json")).json()).find(v=>v.id.toString()===e);r(a),u((a==null?void 0:a.picture)||D)}catch(h){console.error("Error fetching item:",h)}})()},[e]);const b=()=>{y({type:"ADD_ITEM",payload:{id:s.id,name:s.name,picture:s.picture,price:s.price}}),f(!0)};return s?i.jsxs(Ee,{className:"py-5",children:[i.jsxs(Se,{className:"g-4 mb-4 mt-2",children:[i.jsx(K,{lg:6,children:i.jsx(k.div,{className:"rounded shadow overflow-hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-white",style:{height:"30rem"},children:i.jsx("img",{src:l,onError:()=>u(D),alt:s.name,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})})})}),i.jsx(K,{lg:6,children:i.jsxs(k.div,{className:"bg-dark text-light p-4 rounded shadow h-100 d-flex flex-column justify-content-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsxs("div",{children:[i.jsx("h3",{className:"border-bottom border-secondary pb-2 mb-4",children:s.name}),i.jsxs("p",{className:"fs-2 fw-bold mb-4",children:[i.jsx("span",{children:"Ár:"})," ",i.jsxs("span",{className:"text-info fs-1",children:[s.price," Ft"]})]})]}),i.jsx(dt,{onClick:b})]})})]}),i.jsxs(k.div,{className:"bg-dark p-4 rounded shadow position-relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h5",{className:"text-secondary fw-bold border-bottom border-secondary mb-3",children:"Leírás"}),i.jsx("p",{className:"text-light mb-0",style:{whiteSpace:"pre-line"},children:s.description||"Nincs leírás elérhető ehhez az elemhez."}),i.jsx("div",{style:{position:"absolute",bottom:"20px",right:"20px",zIndex:999},children:i.jsx(ut,{placement:"top",overlay:i.jsx(le,{id:"tooltip-back",children:"Vissza a kategóriához"}),children:i.jsx(he,{to:`/about/category/${t}?page=${p}&limit=${g}`,className:"text-decoration-none",children:i.jsxs(se,{className:"btn btn-dark border border-secondary text-light d-inline-flex align-items-center",children:[i.jsx(ve,{className:"me-2"})," Vissza"]})})})})]})]}):i.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:i.jsx(Ce,{animation:"border",variant:"info"})})};export{Ot as I};
