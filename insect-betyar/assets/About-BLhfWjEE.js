const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Card-F5-_m0pD.js","assets/router-CuCJBdoM.js","assets/react-DbHEDQBy.js","assets/index-DYXuOJkO.js","assets/index-x6yo56D1.css","assets/index-BuUMi195.js","assets/CategoryCard-Dy5kGzJu.js","assets/repo-Dmkhlz7d.js","assets/FormControl-CxN_1Wbw.js","assets/warning-C13o4bTx.js","assets/LimitSelector-CQkRygNv.js","assets/Pagination-Bscd1_5A.js"])))=>i.map(i=>d[i]);
import{u as G,c as F,j as M,G as U,y as V,A as q,m as Q,D as A,S as H,_ as P}from"./index-DYXuOJkO.js";import{r as s,j as e,g as K,h as J,i as X,O as Y,R as k}from"./router-CuCJBdoM.js";import{f as Z,g as ee}from"./index-BuUMi195.js";import{a as te,b as re,c as ne}from"./repo-Dmkhlz7d.js";import{a as O,c as ae}from"./FormControl-CxN_1Wbw.js";const z=s.createContext(null);z.displayName="InputGroupContext";const E=s.forwardRef(({className:n,bsPrefix:t,as:c="span",...h},i)=>(t=G(t,"input-group-text"),e.jsx(c,{ref:i,className:F(n,t),...h})));E.displayName="InputGroupText";const se=n=>e.jsx(E,{children:e.jsx(O,{type:"checkbox",...n})}),ce=n=>e.jsx(E,{children:e.jsx(O,{type:"radio",...n})}),B=s.forwardRef(({bsPrefix:n,size:t,hasValidation:c,className:h,as:i="div",...u},o)=>{n=G(n,"input-group");const m=s.useMemo(()=>({}),[]);return e.jsx(z.Provider,{value:m,children:e.jsx(i,{ref:o,...u,className:F(h,n,t&&`${n}-${t}`,c&&"has-validation")})})});B.displayName="InputGroup";const oe=Object.assign(B,{Text:E,Radio:ce,Checkbox:se});function D(n,t,c){var h=this,i=s.useRef(null),u=s.useRef(0),o=s.useRef(null),m=s.useRef([]),f=s.useRef(),y=s.useRef(),_=s.useRef(n),j=s.useRef(!0);_.current=n;var w=typeof window<"u",S=!t&&t!==0&&w;if(typeof n!="function")throw new TypeError("Expected a function");t=+t||0;var C=!!(c=c||{}).leading,R=!("trailing"in c)||!!c.trailing,p="maxWait"in c,b="debounceOnServer"in c&&!!c.debounceOnServer,I=p?Math.max(+c.maxWait||0,t):null;s.useEffect(function(){return j.current=!0,function(){j.current=!1}},[]);var T=s.useMemo(function(){var N=function(l){var d=m.current,L=f.current;return m.current=f.current=null,u.current=l,y.current=_.current.apply(L,d)},v=function(l,d){S&&cancelAnimationFrame(o.current),o.current=S?requestAnimationFrame(l):setTimeout(l,d)},r=function(l){if(!j.current)return!1;var d=l-i.current;return!i.current||d>=t||d<0||p&&l-u.current>=I},a=function(l){return o.current=null,R&&m.current?N(l):(m.current=f.current=null,y.current)},x=function l(){var d=Date.now();if(r(d))return a(d);if(j.current){var L=t-(d-i.current),W=p?Math.min(L,I-(d-u.current)):L;v(l,W)}},g=function(){if(w||b){var l=Date.now(),d=r(l);if(m.current=[].slice.call(arguments),f.current=h,i.current=l,d){if(!o.current&&j.current)return u.current=i.current,v(x,t),C?N(i.current):y.current;if(p)return v(x,t),N(i.current)}return o.current||v(x,t),y.current}};return g.cancel=function(){o.current&&(S?cancelAnimationFrame(o.current):clearTimeout(o.current)),u.current=0,m.current=i.current=f.current=o.current=null},g.isPending=function(){return!!o.current},g.flush=function(){return o.current?a(Date.now()):y.current},g},[C,p,t,I,R,S,w,b]);return T}const ie=({onSearch:n})=>{const[t,c]=s.useState(""),h=()=>{n(t.trim())},i=u=>{c(u.target.value)};return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(oe,{className:"mb-6",style:{width:"100%",maxWidth:"400px"},children:[e.jsx(ae,{placeholder:"Keresés...","aria-label":"Search",value:t,onChange:i,className:"bg-dark text-light border-secondary shadow-sm placeholder-text-light"}),e.jsx(M,{variant:"outline-secondary",onClick:h,style:{backgroundColor:"#41d5f5",borderColor:"#41d5f5",color:"#fff"},children:e.jsx(Z,{})})]})})};function le(n){return U({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"},child:[]}]})(n)}const ue=k.lazy(()=>P(()=>import("./Card-F5-_m0pD.js"),__vite__mapDeps([0,1,2,3,4,5]))),de=k.lazy(()=>P(()=>import("./CategoryCard-Dy5kGzJu.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9]))),me=k.lazy(()=>P(()=>import("./LimitSelector-CQkRygNv.js"),__vite__mapDeps([10,1,2,3,4]))),$=k.lazy(()=>P(()=>import("./Pagination-Bscd1_5A.js"),__vite__mapDeps([11,1,2,5,3,4]))),ye=()=>{const n=K(),t=J(),{category:c,id:h}=X({strict:!1}),i=new URLSearchParams(t.search),u=parseInt(i.get("page")||"1",10),o=parseInt(i.get("limit")||"5",10),m=i.get("search")||"",[f,y]=s.useState([]),[_,j]=s.useState([]),[w,S]=s.useState(0),[C,R]=s.useState(!1),p=D(r=>{if(r<1||r>Math.ceil(w/o))return;const a=new URLSearchParams(t.search);a.set("page",r.toString()),n({to:`${t.pathname}?${a.toString()}`})},300),b=D(r=>{const a=new URLSearchParams(t.search);a.set("page","1"),a.set("limit",r.toString()),n({to:`${t.pathname}?${a.toString()}`})},300),I=r=>{const a=new URLSearchParams(t.search);a.set("search",r||""),a.set("page","1"),n({to:`${t.pathname}?${a.toString()}`})},T=r=>{const a=new URLSearchParams(t.search);a.set("page","1"),a.set("limit","10"),a.delete("category"),a.delete("search"),n({to:`/about/category/${r}?${a.toString()}`})},N=()=>{const r=new URLSearchParams(t.search);r.delete("category"),r.delete("search"),r.delete("page"),r.delete("limit"),n({to:`/about?${r.toString()}`})};s.useEffect(()=>{(async()=>{try{const a=await te();j(a);let x=[];m?x=await re(m):x=await ne();const g=c?x.filter(l=>l.category===c):x;S(g.length),y(g.slice((u-1)*o,u*o)),R(g.length===0)}catch(a){console.error("Error loading the page:",a)}})()},[o,c,m,u]);const v=Math.ceil(w/o);return s.useEffect(()=>{C?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[C]),h?e.jsx(Y,{}):e.jsxs(s.Suspense,{fallback:e.jsx(H,{}),children:[e.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5 w-100 text-center overflow-hidden",children:[!c&&e.jsx("div",{className:"d-flex flex-wrap justify-content-center mt-5 w-100 px-0",style:{gap:"1.5rem",minWidth:"80vw",maxWidth:"100vw"},children:_.map(r=>e.jsx(de,{category:r.name,image:r.image,onClick:()=>T(r.name)},r.name))}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex mt-5 justify-content-center align-items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs(M,{onClick:N,className:"btn btn-info text-white d-inline-flex align-items-center",children:[e.jsx(ee,{className:"me-2"}),"Vissza"]})}),e.jsx(ie,{onSearch:I}),e.jsx(me,{value:o,options:["5","10","15","25"],limitLabel:"Limit: ",onLimitChange:b})]}),e.jsx($,{currentPage:u,totalPages:v,onPageChange:p}),f.length>0?e.jsx("div",{className:"d-flex flex-wrap justify-content-center w-100 px-0",style:{gap:"1.5rem",minWidth:"80vw",maxWidth:"100vw"},children:f.map(r=>e.jsx(ue,{id:r.id,name:r.name,picture:r.picture,price:r.price,category:c},r.id))}):e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"text-info fs-4",children:"Nincsen ilyen termék a keresési feltételek alapján!"})}),e.jsx($,{currentPage:u,totalPages:v,onPageChange:p})]})]}),e.jsx(V,{position:"bottom-end",className:"p-3",children:e.jsx(q,{children:C&&e.jsx(Q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},children:e.jsxs(A,{bg:"info",onClose:()=>R(!1),delay:3e3,autohide:!0,animation:!0,children:[e.jsx(A.Header,{closeButton:!0,children:e.jsx("strong",{className:"me-auto",children:e.jsx(le,{size:25})})}),e.jsx(A.Body,{className:"text-white",children:"Nincsen ilyen termék a keresési feltételek alapján!"})]})})})})]})};export{ye as A,D as c};
