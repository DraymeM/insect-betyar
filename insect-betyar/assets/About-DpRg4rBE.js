const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Card-D9alvl8o.js","assets/index-Cx1FZqZK.js","assets/index-DgMg1yWf.css","assets/link-DQAcWXYU.js","assets/index-bzScCH3g.js","assets/index-DFUFaVJQ.js","assets/CategoryCard-DP8OWc1e.js","assets/useLocation-Pmimf7Z-.js","assets/repo-Dmkhlz7d.js","assets/FormControl-B9d5uh4U.js","assets/warning-C69parn0.js","assets/Button-CDHd72D7.js","assets/Fade-CCPIUCJC.js","assets/useTimeout-DU18Ng8Y.js","assets/CloseButton-DM_vxMhB.js","assets/LimitSelector-CRn511vO.js","assets/Pagination-DhB_jgNL.js"])))=>i.map(i=>d[i]);
import{r,u as _,j as e,a as k,b as X,d as J,O as Y,R as $,S as Z,_ as F}from"./index-Cx1FZqZK.js";import{F as ee,G as te,a as ae}from"./index-DFUFaVJQ.js";import{u as re}from"./useLocation-Pmimf7Z-.js";import{a as ne,b as se,c as oe}from"./repo-Dmkhlz7d.js";import{a as O,c as ce}from"./FormControl-B9d5uh4U.js";import{B as P}from"./warning-C69parn0.js";import{u as ie}from"./useTimeout-DU18Ng8Y.js";import{E as le,a as ue,u as de}from"./Button-CDHd72D7.js";import{F as me}from"./Fade-CCPIUCJC.js";import{C as he}from"./CloseButton-DM_vxMhB.js";const M=r.createContext(null);M.displayName="InputGroupContext";const A=r.forwardRef(({className:a,bsPrefix:t,as:n="span",...d},o)=>(t=_(t,"input-group-text"),e.jsx(n,{ref:o,className:k(a,t),...d})));A.displayName="InputGroupText";const fe=a=>e.jsx(A,{children:e.jsx(O,{type:"checkbox",...a})}),pe=a=>e.jsx(A,{children:e.jsx(O,{type:"radio",...a})}),z=r.forwardRef(({bsPrefix:a,size:t,hasValidation:n,className:d,as:o="div",...l},c)=>{a=_(a,"input-group");const u=r.useMemo(()=>({}),[]);return e.jsx(M.Provider,{value:u,children:e.jsx(o,{ref:c,...l,className:k(d,a,t&&`${a}-${t}`,n&&"has-validation")})})});z.displayName="InputGroup";const xe=Object.assign(z,{Text:A,Radio:pe,Checkbox:fe}),ge={[ue]:"showing",[le]:"showing show"},W=r.forwardRef((a,t)=>e.jsx(me,{...a,ref:t,transitionClasses:ge}));W.displayName="ToastFade";const U=r.createContext({onClose(){}}),V=r.forwardRef(({bsPrefix:a,closeLabel:t="Close",closeVariant:n,closeButton:d=!0,className:o,children:l,...c},u)=>{a=_(a,"toast-header");const h=r.useContext(U),p=de(w=>{h==null||h.onClose==null||h.onClose(w)});return e.jsxs("div",{ref:u,...c,className:k(a,o),children:[l,d&&e.jsx(he,{"aria-label":t,variant:n,onClick:p,"data-dismiss":"toast"})]})});V.displayName="ToastHeader";const H=r.forwardRef(({className:a,bsPrefix:t,as:n="div",...d},o)=>(t=_(t,"toast-body"),e.jsx(n,{ref:o,className:k(a,t),...d})));H.displayName="ToastBody";const q=r.forwardRef(({bsPrefix:a,className:t,transition:n=W,show:d=!0,animation:o=!0,delay:l=5e3,autohide:c=!1,onClose:u,onEntered:h,onExit:p,onExiting:w,onEnter:y,onEntering:C,onExited:N,bg:R,...T},g)=>{a=_(a,"toast");const I=r.useRef(l),v=r.useRef(u);r.useEffect(()=>{I.current=l,v.current=u},[l,u]);const b=ie(),S=!!(c&&d),j=r.useCallback(()=>{S&&(v.current==null||v.current())},[S]);r.useEffect(()=>{b.set(j,I.current)},[b,j]);const s=r.useMemo(()=>({onClose:u}),[u]),i=!!(n&&o),x=e.jsx("div",{...T,ref:g,className:k(a,t,R&&`bg-${R}`,!i&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return e.jsx(U.Provider,{value:s,children:i&&n?e.jsx(n,{in:d,onEnter:y,onEntering:C,onEntered:h,onExit:p,onExiting:w,onExited:N,unmountOnExit:!0,children:x}):x})});q.displayName="Toast";const B=Object.assign(q,{Body:H,Header:V}),je={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},Q=r.forwardRef(({bsPrefix:a,position:t,containerPosition:n,className:d,as:o="div",...l},c)=>(a=_(a,"toast-container"),e.jsx(o,{ref:c,...l,className:k(a,t&&je[t],n&&`position-${n}`,d)})));Q.displayName="ToastContainer";function G(a,t,n){var d=this,o=r.useRef(null),l=r.useRef(0),c=r.useRef(null),u=r.useRef([]),h=r.useRef(),p=r.useRef(),w=r.useRef(a),y=r.useRef(!0);w.current=a;var C=typeof window<"u",N=!t&&t!==0&&C;if(typeof a!="function")throw new TypeError("Expected a function");t=+t||0;var R=!!(n=n||{}).leading,T=!("trailing"in n)||!!n.trailing,g="maxWait"in n,I="debounceOnServer"in n&&!!n.debounceOnServer,v=g?Math.max(+n.maxWait||0,t):null;r.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var b=r.useMemo(function(){var S=function(m){var f=u.current,L=h.current;return u.current=h.current=null,l.current=m,p.current=w.current.apply(L,f)},j=function(m,f){N&&cancelAnimationFrame(c.current),c.current=N?requestAnimationFrame(m):setTimeout(m,f)},s=function(m){if(!y.current)return!1;var f=m-o.current;return!o.current||f>=t||f<0||g&&m-l.current>=v},i=function(m){return c.current=null,T&&u.current?S(m):(u.current=h.current=null,p.current)},x=function m(){var f=Date.now();if(s(f))return i(f);if(y.current){var L=t-(f-o.current),K=g?Math.min(L,v-(f-l.current)):L;j(m,K)}},E=function(){if(C||I){var m=Date.now(),f=s(m);if(u.current=[].slice.call(arguments),h.current=d,o.current=m,f){if(!c.current&&y.current)return l.current=o.current,j(x,t),R?S(o.current):p.current;if(g)return j(x,t),S(o.current)}return c.current||j(x,t),p.current}};return E.cancel=function(){c.current&&(N?cancelAnimationFrame(c.current):clearTimeout(c.current)),l.current=0,u.current=o.current=h.current=c.current=null},E.isPending=function(){return!!c.current},E.flush=function(){return c.current?i(Date.now()):p.current},E},[R,g,t,v,T,N,C,I]);return b}const ye=({onSearch:a})=>{const[t,n]=r.useState(""),d=()=>{a(t.trim())},o=l=>{n(l.target.value)};return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(xe,{className:"mb-6",style:{width:"100%",maxWidth:"400px"},children:[e.jsx(ce,{placeholder:"Keresés...","aria-label":"Search",value:t,onChange:o,className:"bg-dark text-light border-secondary shadow-sm placeholder-text-light"}),e.jsx(P,{variant:"outline-secondary",onClick:d,style:{backgroundColor:"#41d5f5",borderColor:"#41d5f5",color:"#fff"},children:e.jsx(ee,{})})]})})};function ve(a){return te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"},child:[]}]})(a)}const we=$.lazy(()=>F(()=>import("./Card-D9alvl8o.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ce=$.lazy(()=>F(()=>import("./CategoryCard-DP8OWc1e.js"),__vite__mapDeps([6,1,2,5,7,8,9,10,11,4,12,13,14]))),Ne=$.lazy(()=>F(()=>import("./LimitSelector-CRn511vO.js"),__vite__mapDeps([15,1,2,10,11,4]))),D=$.lazy(()=>F(()=>import("./Pagination-DhB_jgNL.js"),__vite__mapDeps([16,1,2,5]))),Fe=()=>{const a=X(),t=re(),{category:n,id:d}=J({strict:!1}),o=new URLSearchParams(t.search),l=parseInt(o.get("page")||"1",10),c=parseInt(o.get("limit")||"5",10),u=o.get("search")||"",[h,p]=r.useState([]),[w,y]=r.useState([]),[C,N]=r.useState(0),[R,T]=r.useState(!1),g=G(s=>{if(s<1||s>Math.ceil(C/c))return;const i=new URLSearchParams(t.search);i.set("page",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),I=G(s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.set("limit",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),v=s=>{const i=new URLSearchParams(t.search);i.set("search",s||""),i.set("page","1"),a({to:`${t.pathname}?${i.toString()}`})},b=s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.set("limit","10"),i.delete("category"),i.delete("search"),a({to:`/about/category/${s}?${i.toString()}`})},S=()=>{const s=new URLSearchParams(t.search);s.delete("category"),s.delete("search"),s.delete("page"),s.delete("limit"),a({to:`/about?${s.toString()}`})};r.useEffect(()=>{(async()=>{try{const i=await ne();y(i);let x=[];u?x=await se(u):x=await oe();const E=n?x.filter(m=>m.category===n):x;N(E.length),p(E.slice((l-1)*c,l*c)),T(E.length===0)}catch(i){console.error("Error loading the page:",i)}})()},[c,n,u,l]);const j=Math.ceil(C/c);return d?e.jsx(Y,{}):e.jsxs(r.Suspense,{fallback:e.jsx(Z,{}),children:[e.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5 w-100 text-center overflow-hidden",children:[!n&&e.jsx("div",{className:"d-flex flex-wrap justify-content-center mt-5 w-100 px-0",style:{gap:"1.5rem",minWidth:"80vw",maxWidth:"100vw"},children:w.map(s=>e.jsx(Ce,{category:s.name,image:s.image,onClick:()=>b(s.name)},s.name))}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex mt-5 justify-content-center align-items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs(P,{onClick:S,className:"btn btn-info text-white d-inline-flex align-items-center",children:[e.jsx(ae,{className:"me-2"}),"Vissza"]})}),e.jsx(ye,{onSearch:v}),e.jsx(Ne,{value:c,options:["5","10","15","25"],limitLabel:"Limit: ",onLimitChange:I})]}),e.jsx(D,{currentPage:l,totalPages:j,onPageChange:g}),h.length>0?e.jsx("div",{className:"d-flex flex-wrap justify-content-center w-100 px-0",style:{gap:"1.5rem",minWidth:"80vw",maxWidth:"100vw"},children:h.map(s=>e.jsx(we,{id:s.id,name:s.name,picture:s.picture,price:s.price,category:n},s.id))}):e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"text-info fs-4",children:"Nincsen ilyen termék a keresési feltételek alapján!"})}),e.jsx(D,{currentPage:l,totalPages:j,onPageChange:g})]})]}),e.jsx(Q,{position:"bottom-end",className:"p-3",children:e.jsxs(B,{bg:"info",onClose:()=>T(!1),show:R,delay:3e3,autohide:!0,animation:!0,className:`fade ${R?"show slide-in":"slide-out"}`,children:[e.jsx(B.Header,{closeButton:!0,children:e.jsx("strong",{className:"me-auto",children:e.jsx(ve,{size:25})})}),e.jsx(B.Body,{className:"text-white",children:"Nincsen ilyen termék a keresési feltételek alapján!"})]})})]})};export{Fe as A,G as c};
