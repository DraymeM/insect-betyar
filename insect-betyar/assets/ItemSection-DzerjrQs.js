import{r as a,f as w,j as e}from"./router-Cj35iyZR.js";import{S as C}from"./Section-sqyIyIE8.js";import{C as N}from"./Card-By7cXztE.js";import{m as S,C as I,S as $}from"./index-osC7Gmze.js";import{c as E}from"./index-CHifeliK.js";const k={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.5}}},W=a.memo(({title:m="Termékek",badgeText:o,titleBg:s="danger",fetchFunction:c,button:p,buttonLink:l})=>{const[x,h]=a.useState([]),[u,b]=a.useState(!0),f=w();a.useEffect(()=>{const t=async()=>{try{const r=await c();h(r)}catch(r){console.error("Error fetching items:",r)}finally{b(!1)}};t();const d=()=>{document.visibilityState==="visible"&&t()};return document.addEventListener("visibilitychange",d),()=>document.removeEventListener("visibilitychange",d)},[c]);const n=s==null?void 0:s.endsWith("-outline"),i=n?s.replace("-outline",""):s,y=n?`text-${i}`:"text-white",g=n?"bg-transparent":`bg-${i}`,v=n?"text-start ps-2":"text-center",j=n?{borderBottom:`4px solid var(--bs-${i})`,width:"100%",marginBottom:"1rem"}:{};return e.jsx(C,{children:e.jsx(S.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.5},variants:k,children:e.jsxs(I,{className:"pb-5 d-flex flex-column align-items-center bg-dark text-white rounded shadow-sm mt-5 py-2",children:[e.jsx("h2",{className:`mb-4 mb-5 w-100 rounded fw-bold text-shadow py-2 ${g} ${y} ${v}`,style:j,children:e.jsx("span",{className:"d-inline-flex align-items-center gap-2",children:m})}),u?e.jsx($,{}):e.jsx("div",{className:"d-flex flex-wrap justify-content-center gap-4",children:x.map(t=>e.jsxs("div",{className:"position-relative",children:[o&&e.jsx("span",{className:"badge bg-danger position-absolute top-0 end-0 m-2 px-3 py-2 fs-6",style:{zIndex:10,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},children:o}),e.jsx(N,{id:Number(t.id),name:t.name,picture:t.picture,category:t.category,price:t.price})]},t.id))}),p==="link"&&l&&e.jsx("div",{className:"d-flex justify-content-center mt-4",children:e.jsxs("button",{className:`btn btn-${i} rounded mt-2 px-4 py-2 fw-bold`,onClick:()=>f({to:l}),children:["Részletek ",e.jsx(E,{})]})})]})})})});export{W as I};
