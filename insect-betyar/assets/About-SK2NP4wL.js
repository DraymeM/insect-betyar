const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Card-DhwdTv7-.js","assets/index-D00fTWig.js","assets/index-Cinlshd_.css","assets/link-Dg_Jt4m4.js","assets/index-B6ShDjvA.js","assets/bootstrap-DnVUw_vK.css","assets/CategoryCard-D7S9-olm.js","assets/index-55hBeZcq.js","assets/useLocation-B-xweXfd.js","assets/repo-Dmkhlz7d.js","assets/FormControl-B7G_SfIy.js","assets/warning-CBdwkSxt.js","assets/Button-BHpgt4RM.js","assets/Fade-CyKxH7Sf.js","assets/useTimeout-ChcnwtCw.js","assets/CloseButton-Cn1cMaIJ.js","assets/LimitSelector-BIv9Lwnm.js","assets/Pagination-DsdcE9uC.js"])))=>i.map(i=>d[i]);
import{r,u as _,j as e,a as k,e as K,f as X,O as J,R as $,S as Y,_ as F}from"./index-D00fTWig.js";import{F as Z,G as ee,a as te}from"./index-55hBeZcq.js";import{u as ae}from"./useLocation-B-xweXfd.js";import{a as re,b as ne,c as se}from"./repo-Dmkhlz7d.js";/* empty css                      */import{a as O,c as oe}from"./FormControl-B7G_SfIy.js";import{B as ce}from"./warning-CBdwkSxt.js";import{u as ie}from"./useTimeout-ChcnwtCw.js";import{E as le,a as ue,u as de}from"./Button-BHpgt4RM.js";import{F as me}from"./Fade-CyKxH7Sf.js";import{C as he}from"./CloseButton-Cn1cMaIJ.js";const P=r.createContext(null);P.displayName="InputGroupContext";const A=r.forwardRef(({className:a,bsPrefix:t,as:n="span",...d},o)=>(t=_(t,"input-group-text"),e.jsx(n,{ref:o,className:k(a,t),...d})));A.displayName="InputGroupText";const fe=a=>e.jsx(A,{children:e.jsx(O,{type:"checkbox",...a})}),pe=a=>e.jsx(A,{children:e.jsx(O,{type:"radio",...a})}),M=r.forwardRef(({bsPrefix:a,size:t,hasValidation:n,className:d,as:o="div",...l},c)=>{a=_(a,"input-group");const u=r.useMemo(()=>({}),[]);return e.jsx(P.Provider,{value:u,children:e.jsx(o,{ref:c,...l,className:k(d,a,t&&`${a}-${t}`,n&&"has-validation")})})});M.displayName="InputGroup";const xe=Object.assign(M,{Text:A,Radio:pe,Checkbox:fe}),ge={[ue]:"showing",[le]:"showing show"},z=r.forwardRef((a,t)=>e.jsx(me,{...a,ref:t,transitionClasses:ge}));z.displayName="ToastFade";const U=r.createContext({onClose(){}}),V=r.forwardRef(({bsPrefix:a,closeLabel:t="Close",closeVariant:n,closeButton:d=!0,className:o,children:l,...c},u)=>{a=_(a,"toast-header");const h=r.useContext(U),p=de(C=>{h==null||h.onClose==null||h.onClose(C)});return e.jsxs("div",{ref:u,...c,className:k(a,o),children:[l,d&&e.jsx(he,{"aria-label":t,variant:n,onClick:p,"data-dismiss":"toast"})]})});V.displayName="ToastHeader";const H=r.forwardRef(({className:a,bsPrefix:t,as:n="div",...d},o)=>(t=_(t,"toast-body"),e.jsx(n,{ref:o,className:k(a,t),...d})));H.displayName="ToastBody";const W=r.forwardRef(({bsPrefix:a,className:t,transition:n=z,show:d=!0,animation:o=!0,delay:l=5e3,autohide:c=!1,onClose:u,onEntered:h,onExit:p,onExiting:C,onEnter:y,onEntering:N,onExited:R,bg:w,...T},g)=>{a=_(a,"toast");const I=r.useRef(l),v=r.useRef(u);r.useEffect(()=>{I.current=l,v.current=u},[l,u]);const b=ie(),S=!!(c&&d),j=r.useCallback(()=>{S&&(v.current==null||v.current())},[S]);r.useEffect(()=>{b.set(j,I.current)},[b,j]);const s=r.useMemo(()=>({onClose:u}),[u]),i=!!(n&&o),x=e.jsx("div",{...T,ref:g,className:k(a,t,w&&`bg-${w}`,!i&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return e.jsx(U.Provider,{value:s,children:i&&n?e.jsx(n,{in:d,onEnter:y,onEntering:N,onEntered:h,onExit:p,onExiting:C,onExited:R,unmountOnExit:!0,children:x}):x})});W.displayName="Toast";const B=Object.assign(W,{Body:H,Header:V}),je={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},q=r.forwardRef(({bsPrefix:a,position:t,containerPosition:n,className:d,as:o="div",...l},c)=>(a=_(a,"toast-container"),e.jsx(o,{ref:c,...l,className:k(a,t&&je[t],n&&`position-${n}`,d)})));q.displayName="ToastContainer";function G(a,t,n){var d=this,o=r.useRef(null),l=r.useRef(0),c=r.useRef(null),u=r.useRef([]),h=r.useRef(),p=r.useRef(),C=r.useRef(a),y=r.useRef(!0);C.current=a;var N=typeof window<"u",R=!t&&t!==0&&N;if(typeof a!="function")throw new TypeError("Expected a function");t=+t||0;var w=!!(n=n||{}).leading,T=!("trailing"in n)||!!n.trailing,g="maxWait"in n,I="debounceOnServer"in n&&!!n.debounceOnServer,v=g?Math.max(+n.maxWait||0,t):null;r.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var b=r.useMemo(function(){var S=function(m){var f=u.current,L=h.current;return u.current=h.current=null,l.current=m,p.current=C.current.apply(L,f)},j=function(m,f){R&&cancelAnimationFrame(c.current),c.current=R?requestAnimationFrame(m):setTimeout(m,f)},s=function(m){if(!y.current)return!1;var f=m-o.current;return!o.current||f>=t||f<0||g&&m-l.current>=v},i=function(m){return c.current=null,T&&u.current?S(m):(u.current=h.current=null,p.current)},x=function m(){var f=Date.now();if(s(f))return i(f);if(y.current){var L=t-(f-o.current),Q=g?Math.min(L,v-(f-l.current)):L;j(m,Q)}},E=function(){if(N||I){var m=Date.now(),f=s(m);if(u.current=[].slice.call(arguments),h.current=d,o.current=m,f){if(!c.current&&y.current)return l.current=o.current,j(x,t),w?S(o.current):p.current;if(g)return j(x,t),S(o.current)}return c.current||j(x,t),p.current}};return E.cancel=function(){c.current&&(R?cancelAnimationFrame(c.current):clearTimeout(c.current)),l.current=0,u.current=o.current=h.current=c.current=null},E.isPending=function(){return!!c.current},E.flush=function(){return c.current?i(Date.now()):p.current},E},[w,g,t,v,T,R,N,I]);return b}const ye=({onSearch:a})=>{const[t,n]=r.useState(""),d=()=>{a(t.trim())},o=l=>{n(l.target.value)};return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs(xe,{className:"mb-6",style:{width:"100%",maxWidth:"400px"},children:[e.jsx(oe,{placeholder:"Keresés...","aria-label":"Search",value:t,onChange:o,className:"bg-dark text-light border-secondary shadow-sm placeholder-text-light"}),e.jsx(ce,{variant:"outline-secondary",onClick:d,style:{backgroundColor:"#41d5f5",borderColor:"#41d5f5",color:"#fff"},children:e.jsx(Z,{})})]})})};function ve(a){return ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"},child:[]}]})(a)}const Ce=$.lazy(()=>F(()=>import("./Card-DhwdTv7-.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ne=$.lazy(()=>F(()=>import("./CategoryCard-D7S9-olm.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,4,13,14,15,5]))),Re=$.lazy(()=>F(()=>import("./LimitSelector-BIv9Lwnm.js"),__vite__mapDeps([16,1,2]))),D=$.lazy(()=>F(()=>import("./Pagination-DsdcE9uC.js"),__vite__mapDeps([17,1,2,7]))),Ae=()=>{const a=K(),t=ae(),{category:n,id:d}=X({strict:!1}),o=new URLSearchParams(t.search),l=parseInt(o.get("page")||"1",10),c=parseInt(o.get("limit")||"5",10),u=o.get("search")||"",[h,p]=r.useState([]),[C,y]=r.useState([]),[N,R]=r.useState(0),[w,T]=r.useState(!1),g=G(s=>{if(s<1||s>Math.ceil(N/c))return;const i=new URLSearchParams(t.search);i.set("page",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),I=G(s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.set("limit",s.toString()),a({to:`${t.pathname}?${i.toString()}`})},300),v=s=>{const i=new URLSearchParams(t.search);i.set("search",s||""),i.set("page","1"),a({to:`${t.pathname}?${i.toString()}`})},b=s=>{const i=new URLSearchParams(t.search);i.set("page","1"),i.set("limit","10"),i.delete("category"),i.delete("search"),a({to:`/about/category/${s}?${i.toString()}`})},S=()=>{const s=new URLSearchParams(t.search);s.delete("category"),s.delete("search"),s.delete("page"),s.delete("limit"),a({to:`/about?${s.toString()}`})};r.useEffect(()=>{(async()=>{try{const i=await re();y(i);let x=[];u?x=await ne(u):x=await se();const E=n?x.filter(m=>m.category===n):x;R(E.length),p(E.slice((l-1)*c,l*c)),T(E.length===0)}catch(i){console.error("Error loading the page:",i)}})()},[c,n,u,l]);const j=Math.ceil(N/c);return d?e.jsx(J,{}):e.jsxs(r.Suspense,{fallback:e.jsx(Y,{}),children:[e.jsxs("div",{className:"page",children:[!n&&e.jsx("div",{className:"card-list",children:C.map(s=>e.jsx(Ne,{category:s.name,image:s.image,onClick:()=>b(s.name)},s.name))}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"controls-container",children:[e.jsx("div",{className:"d-flex justify-content-start",children:e.jsxs("button",{onClick:S,className:"btn btn-info text-white d-inline-flex align-items-center",children:[e.jsx(te,{className:"me-2"}),"Vissza"]})}),e.jsx(ye,{onSearch:v}),e.jsx(Re,{value:c,options:["5","10","15","25"],limitLabel:"Limit: ",onLimitChange:I})]}),e.jsx(D,{currentPage:l,totalPages:j,onPageChange:g}),h.length>0?e.jsx("div",{className:"card-list",children:h.map(s=>e.jsx(Ce,{id:s.id,name:s.name,picture:s.picture,category:n},s.id))}):e.jsx("div",{className:"text-center mt-4",children:e.jsx("p",{className:"text-info fs-4",children:"Nincsen ilyen termék a keresési feltételek alapján!"})}),e.jsx(D,{currentPage:l,totalPages:j,onPageChange:g})]})]}),e.jsx(q,{position:"bottom-end",className:"p-3",children:e.jsxs(B,{bg:"info",onClose:()=>T(!1),show:w,delay:3e3,autohide:!0,animation:!0,className:`fade ${w?"show slide-in":"slide-out"}`,children:[e.jsx(B.Header,{closeButton:!0,children:e.jsx("strong",{className:"me-auto",children:e.jsx(ve,{size:25})})}),e.jsx(B.Body,{className:"text-white",children:"Nincsen ilyen termék a keresési feltételek alapján!"})]})})]})};export{Ae as A,G as c};
