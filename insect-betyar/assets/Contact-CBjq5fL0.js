import{r as i,u as x,j as r,a as f,C as oe,m as le,z as I}from"./index-D00fTWig.js";import{C as q,R as ie,S as me}from"./Section-CPu4nW7n.js";/* empty css                      */import{u as ce}from"./useEventCallback-DJWlqq_p.js";import{u as de}from"./Button-BHpgt4RM.js";import{d as ue}from"./divWithClassName-77-76jSV.js";import{A as pe}from"./Anchor-C-MqO6cF.js";import{F as z,P as E}from"./Fade-CyKxH7Sf.js";import{C as he}from"./CloseButton-Cn1cMaIJ.js";import{F as S,a as U,b as fe,c as ge}from"./FormControl-B7G_SfIy.js";import{h as xe,m as je}from"./ElementChildren-CxGv2Fv1.js";import{B as ye}from"./warning-CBdwkSxt.js";const V=ue("h4");V.displayName="DivStyledAsH4";const K=i.forwardRef(({className:s,bsPrefix:e,as:a=V,...t},n)=>(e=x(e,"alert-heading"),r.jsx(a,{ref:n,className:f(s,e),...t})));K.displayName="AlertHeading";const G=i.forwardRef(({className:s,bsPrefix:e,as:a=pe,...t},n)=>(e=x(e,"alert-link"),r.jsx(a,{ref:n,className:f(s,e),...t})));G.displayName="AlertLink";const Y=i.forwardRef((s,e)=>{const{bsPrefix:a,show:t=!0,closeLabel:n="Close alert",closeVariant:o,className:l,children:d,variant:p="primary",onClose:c,dismissible:u,transition:j=z,...g}=ce(s,{show:"onClose"}),v=x(a,"alert"),N=de(b=>{c&&c(!1,b)}),m=j===!0?z:j,h=r.jsxs("div",{role:"alert",...m?void 0:g,ref:e,className:f(l,v,p&&`${v}-${p}`,u&&`${v}-dismissible`),children:[u&&r.jsx(he,{onClick:N,"aria-label":n,variant:o}),d]});return m?r.jsx(m,{unmountOnExit:!0,...g,ref:void 0,in:t,children:h}):t?h:null});Y.displayName="Alert";const D=Object.assign(Y,{Link:G,Heading:K}),L=i.forwardRef(({bsPrefix:s,className:e,htmlFor:a,...t},n)=>{const{controlId:o}=i.useContext(S);return s=x(s,"form-check-label"),r.jsx("label",{...t,ref:n,htmlFor:a||o,className:f(e,s)})});L.displayName="FormCheckLabel";const J=i.forwardRef(({id:s,bsPrefix:e,bsSwitchPrefix:a,inline:t=!1,reverse:n=!1,disabled:o=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:c,feedbackType:u,className:j,style:g,title:v="",type:N="checkbox",label:m,children:h,as:b="input",...C},F)=>{e=x(e,"form-check"),a=x(a,"form-switch");const{controlId:w}=i.useContext(S),y=i.useMemo(()=>({controlId:s||w}),[w,s]),R=!h&&m!=null&&m!==!1||xe(h,L),ne=r.jsx(U,{...C,type:N==="switch"?"checkbox":N,ref:F,isValid:l,isInvalid:d,disabled:o,as:b});return r.jsx(S.Provider,{value:y,children:r.jsx("div",{style:g,className:f(j,R&&e,t&&`${e}-inline`,n&&`${e}-reverse`,N==="switch"&&a),children:h||r.jsxs(r.Fragment,{children:[ne,R&&r.jsx(L,{title:v,children:m}),c&&r.jsx(fe,{type:u,tooltip:p,children:c})]})})})});J.displayName="FormCheck";const $=Object.assign(J,{Input:U,Label:L}),W=i.forwardRef(({className:s,bsPrefix:e,as:a="div",...t},n)=>(e=x(e,"form-floating"),r.jsx(a,{ref:n,className:f(s,e),...t})));W.displayName="FormFloating";const T=i.forwardRef(({controlId:s,as:e="div",...a},t)=>{const n=i.useMemo(()=>({controlId:s}),[s]);return r.jsx(S.Provider,{value:n,children:r.jsx(e,{...a,ref:t})})});T.displayName="FormGroup";const X=i.forwardRef(({as:s="label",bsPrefix:e,column:a=!1,visuallyHidden:t=!1,className:n,htmlFor:o,...l},d)=>{const{controlId:p}=i.useContext(S);e=x(e,"form-label");let c="col-form-label";typeof a=="string"&&(c=`${c} ${c}-${a}`);const u=f(n,e,t&&"visually-hidden",a&&c);return o=o||p,a?r.jsx(q,{ref:d,as:"label",className:u,htmlFor:o,...l}):r.jsx(s,{ref:d,className:u,htmlFor:o,...l})});X.displayName="FormLabel";const Q=i.forwardRef(({bsPrefix:s,className:e,id:a,...t},n)=>{const{controlId:o}=i.useContext(S);return s=x(s,"form-range"),r.jsx("input",{...t,type:"range",ref:n,className:f(e,s),id:a||o})});Q.displayName="FormRange";const Z=i.forwardRef(({bsPrefix:s,size:e,htmlSize:a,className:t,isValid:n=!1,isInvalid:o=!1,id:l,...d},p)=>{const{controlId:c}=i.useContext(S);return s=x(s,"form-select"),r.jsx("select",{...d,size:a,ref:p,className:f(t,s,e&&`${s}-${e}`,n&&"is-valid",o&&"is-invalid"),id:l||c})});Z.displayName="FormSelect";const P=i.forwardRef(({bsPrefix:s,className:e,as:a="small",muted:t,...n},o)=>(s=x(s,"form-text"),r.jsx(a,{...n,ref:o,className:f(e,s,t&&"text-muted")})));P.displayName="FormText";const ee=i.forwardRef((s,e)=>r.jsx($,{...s,ref:e,type:"switch"}));ee.displayName="Switch";const ve=Object.assign(ee,{Input:$.Input,Label:$.Label}),se=i.forwardRef(({bsPrefix:s,className:e,children:a,controlId:t,label:n,...o},l)=>(s=x(s,"form-floating"),r.jsxs(T,{ref:l,className:f(e,s),controlId:t,...o,children:[a,r.jsx("label",{htmlFor:t,children:n})]})));se.displayName="FloatingLabel";const Ne={_ref:E.any,validated:E.bool,as:E.elementType},O=i.forwardRef(({className:s,validated:e,as:a="form",...t},n)=>r.jsx(a,{...t,ref:n,className:f(s,e&&"was-validated")}));O.displayName="Form";O.propTypes=Ne;const k=Object.assign(O,{Group:T,Control:ge,Floating:W,Check:$,Switch:ve,Label:X,Text:P,Range:Q,Select:Z,FloatingLabel:se}),A=1e3;function be(s,e,a){const t=(s-e)/(a-e)*100;return Math.round(t*A)/A}function H({min:s,now:e,max:a,label:t,visuallyHidden:n,striped:o,animated:l,className:d,style:p,variant:c,bsPrefix:u,...j},g){return r.jsx("div",{ref:g,...j,role:"progressbar",className:f(d,`${u}-bar`,{[`bg-${c}`]:c,[`${u}-bar-animated`]:l,[`${u}-bar-striped`]:l||o}),style:{width:`${be(e,s,a)}%`,...p},"aria-valuenow":e,"aria-valuemin":s,"aria-valuemax":a,children:n?r.jsx("span",{className:"visually-hidden",children:t}):t})}const ae=i.forwardRef(({isChild:s=!1,...e},a)=>{const t={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(t.bsPrefix=x(t.bsPrefix,"progress"),s)return H(t,a);const{min:n,now:o,max:l,label:d,visuallyHidden:p,striped:c,animated:u,bsPrefix:j,variant:g,className:v,children:N,...m}=t;return r.jsx("div",{ref:a,...m,className:f(v,j),children:N?je(N,h=>i.cloneElement(h,{isChild:!0})):H({min:n,now:o,max:l,label:d,visuallyHidden:p,striped:c,animated:u,bsPrefix:j,variant:g},a)})});ae.displayName="ProgressBar";const _={_origin:"https://api.emailjs.com"},we=(s,e="https://api.emailjs.com")=>{_._userID=s,_._origin=e},te=(s,e,a)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class M{constructor(e){this.status=e.status,this.text=e.responseText}}const re=(s,e,a={})=>new Promise((t,n)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:l})=>{const d=new M(l);d.status===200||d.text==="OK"?t(d):n(d)}),o.addEventListener("error",({target:l})=>{n(new M(l))}),o.open("POST",_._origin+s,!0),Object.keys(a).forEach(l=>{o.setRequestHeader(l,a[l])}),o.send(e)}),Ce=(s,e,a,t)=>{const n=t||_._userID;return te(n,s,e),re("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:s,template_id:e,template_params:a}),{"Content-type":"application/json"})},Fe=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Se=(s,e,a,t)=>{const n=t||_._userID,o=Fe(a);te(n,s,e);const l=new FormData(o);return l.append("lib_version","3.2.0"),l.append("service_id",s),l.append("template_id",e),l.append("user_id",n),re("/api/v1.0/email/send-form",l)},Re={init:we,send:Ce,sendForm:Se},B=I.object({name:I.string().min(3,"A név legalább 3 karakter hosszú kell legyen"),email:I.string().email("Érvényes email címet adj meg"),message:I.string().min(10,"Az üzenet legalább 10 karakter hosszú kell legyen")}),ke=({onSubmit:s})=>{const[e,a]=i.useState({name:"",email:"",message:""}),[t,n]=i.useState({}),[o,l]=i.useState(!1),[d,p]=i.useState(!1),[c,u]=i.useState(""),[j,g]=i.useState(0),v=m=>{var F,w,y;const{name:h,value:b}=m.target;a({...e,[h]:b});const C=B.safeParse({...e,[h]:b});if(C.success)n({});else{const R=C.error.format();n({name:(F=R.name)==null?void 0:F._errors[0],email:(w=R.email)==null?void 0:w._errors[0],message:(y=R.message)==null?void 0:y._errors[0]})}},N=async m=>{var C,F,w;m.preventDefault(),l(!0),u(""),p(!1),g(0);const h=B.safeParse(e);if(!h.success){const y=h.error.format();n({name:(C=y.name)==null?void 0:C._errors[0],email:(F=y.email)==null?void 0:F._errors[0],message:(w=y.message)==null?void 0:w._errors[0]}),l(!1);return}const b=setInterval(()=>{g(y=>Math.min(y+10,90))},200);try{await s(e),g(100),p(!0),a({name:"",email:"",message:""}),n({})}catch{g(0),u("Nem sikerült elküldeni az üzeneted. Kérlek próbáld újra!")}finally{clearInterval(b),l(!1)}};return r.jsx(oe,{fluid:!0,className:"text-light py-5",children:r.jsx(ie,{className:"justify-content-center",children:r.jsx(q,{sm:20,md:24,lg:30,className:"w-full",children:r.jsxs(le.div,{className:"p-4",children:[r.jsx("h2",{className:"text-center mb-4 text-light",children:"Küld el nekünk az üzeneted"}),d&&r.jsx(D,{variant:"success",children:"✅ Sikeresen elküldted az üzeneted!"}),c&&r.jsxs(D,{variant:"danger",children:["❌ ",c]}),r.jsxs(k,{onSubmit:N,children:[[{id:"formName",label:"Név",name:"name",type:"text",placeholder:"Írd be a neved"},{id:"formEmail",label:"Email cím",name:"email",type:"email",placeholder:"Írd be az email címed"},{id:"formMessage",label:"Üzenet",name:"message",type:"textarea",placeholder:"Írd be az üzeneted"}].map(m=>r.jsxs(k.Group,{className:"mb-4",children:[r.jsx(k.Label,{className:"fw-bold text-light",children:m.label}),m.type==="textarea"?r.jsx(k.Control,{as:"textarea",rows:5,name:m.name,placeholder:m.placeholder,value:e[m.name],onChange:v,className:`bg-dark text-light border-secondary shadow-sm ${t[m.name]?"is-invalid":""}`}):r.jsx(k.Control,{type:m.type,name:m.name,placeholder:m.placeholder,value:e[m.name],onChange:v,className:`bg-dark text-light border-secondary shadow-sm ${t[m.name]?"is-invalid":""}`}),t[m.name]&&r.jsx("div",{className:"text-danger mt-1",children:t[m.name]})]},m.id)),o&&r.jsx(ae,{animated:!0,now:j,label:`${j}%`,className:"mb-3"}),r.jsx("div",{className:"text-center ",children:r.jsx(ye,{type:"submit",disabled:o,className:"subm-btn bg-info px-5 py-2 fw-bold shadow-sm",children:o?"Küldés folyamatban...":"Küldés"})})]})]})})})})},Be=()=>{const s=async e=>{await Re.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",e,"YOUR_USER_ID")};return r.jsx("div",{className:"page",children:r.jsx(me,{className:"d-flex justify-content-center align-items-center",children:r.jsx(ke,{onSubmit:s})})})};export{Be as C};
