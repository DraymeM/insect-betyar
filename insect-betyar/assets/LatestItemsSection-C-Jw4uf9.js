import{r as i,j as t}from"./router-Cj35iyZR.js";import{S as p}from"./Section-DDor0tuM.js";import{C as m}from"./Card-Be6VhDY5.js";import{m as s,C as h,S as b}from"./index-By1kFIfD.js";import{c as u}from"./repo-Dt3sVYhM.js";import"./react-DbHEDQBy.js";import"./index-QWC4VT8F.js";import"./Spinner-B65If0ks.js";const x={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.2}}},y={hidden:{opacity:0,y:-1},visible:{opacity:1,y:0,transition:{type:"spring",bounce:.9,duration:.8}}},g={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.6}}},E=i.memo(()=>{const[n,d]=i.useState([]),[r,o]=i.useState(!0);i.useEffect(()=>{const e=async()=>{try{const a=await u();d(a)}catch(a){console.error("Error fetching latest items:",a)}finally{o(!1)}},c=()=>{document.visibilityState==="visible"&&(o(!0),e())};return document.addEventListener("visibilitychange",c),e(),()=>{document.removeEventListener("visibilitychange",c)}},[]);const l=i.useMemo(()=>n.map(e=>t.jsxs(s.div,{className:"position-relative",whileInView:"visible",initial:"hidden",animate:"visible",viewport:{once:!1,amount:.1},children:[t.jsx(s.span,{className:"badge bg-danger position-absolute top-0 end-0 m-2 px-3 py-2 fs-6",style:{zIndex:10,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)"},variants:y,children:"Új"}),t.jsx(m,{id:Number(e.id),name:e.name,picture:e.picture,category:e.category,price:e.price})]},e.id)),[n]);return t.jsx(p,{children:t.jsxs(h,{className:"pb-5 d-flex flex-column align-items-center bg-dark text-white rounded shadow-sm mt-5 py-2",children:[t.jsx(s.h2,{className:"mb-4 text-uppercase bg-danger mb-5 w-100 text-center rounded fw-bold text-shadow py-2",variants:x,initial:"hidden",animate:"visible",children:"Újdonságok"}),r?t.jsx(b,{}):t.jsx(s.div,{className:"d-flex flex-wrap justify-content-center gap-4",initial:"hidden",whileInView:"visible",viewport:{once:!1,margin:"-50px"},variants:g,children:l})]},r?"loading":"loaded")})});export{E as default};
