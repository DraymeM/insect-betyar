import{r as o,i as pe,j as i,g as me,k as he,f as ge,L as ye}from"./router-Cj35iyZR.js";import{b as ve,e as be}from"./index-CHifeliK.js";import{B as te}from"./Button-C0XCOhVB.js";import{d as N,c as F,f as ne,m as T,e as xe,C as we}from"./index-osC7Gmze.js";import{S as W}from"./Spinner-nuaJ4BMD.js";import{R as je,C as K}from"./Row-DuKvbJf5.js";import{a as Oe,c as z,u as Re,b as V,r as Ee,h as q}from"./hasClass-Cc8g_W4g.js";import{P as Ce}from"./index-CscOspqo.js";import{u as Se}from"./useTimeout-CvG2z7qd.js";import{w as Ne}from"./warning-C13o4bTx.js";import{a as ke}from"./hook-nsUnICyS.js";import{u as B,o as se,l as M,f as re,e as Me,g as U}from"./useEventCallback-CVuv0uFq.js";import{i as Te,F as G,g as Le}from"./Fade-BbMigd9H.js";import{p as Fe,h as Ie,a as Ae,c as _e,e as Pe,o as $e,f as De,b as ze,d as Be}from"./bootstrap-gBMG6YgA.js";import{u as Ue}from"./useIsomorphicEffect-B9czrlGl.js";function Y(){return o.useState(null)}var J=Object.prototype.hasOwnProperty;function Q(e,t,n){for(n of e.keys())if(L(n,t))return n}function L(e,t){var n,s,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&L(e[s],t[s]););return s===-1}if(n===Set){if(e.size!==t.size)return!1;for(s of e)if(r=s,r&&typeof r=="object"&&(r=Q(t,r),!r)||!t.has(r))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e)if(r=s[0],r&&typeof r=="object"&&(r=Q(t,r),!r)||!L(s[1],t.get(r)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(J.call(e,n)&&++s&&!J.call(t,n)||!(n in t)||!L(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}function He(e){const t=Oe();return[e[0],o.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}const We=Fe({defaultModifiers:[Ie,Ae,_e,Pe,$e,De,ze,Be]}),Ke=["enabled","placement","strategy","modifiers"];function Ve(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}const qe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Ge={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const s=(t.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);s.length?t.setAttribute("aria-describedby",s.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:s}=e.elements,r=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in s){const l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(n.id)!==-1)return;s.setAttribute("aria-describedby",l?`${l},${n.id}`:n.id)}}},Ye=[];function Je(e,t,n={}){let{enabled:s=!0,placement:r="bottom",strategy:l="absolute",modifiers:d=Ye}=n,y=Ve(n,Ke);const m=o.useRef(d),a=o.useRef(),f=o.useCallback(()=>{var c;(c=a.current)==null||c.update()},[]),g=o.useCallback(()=>{var c;(c=a.current)==null||c.forceUpdate()},[]),[b,u]=He(o.useState({placement:r,update:f,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),h=o.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:c})=>{const v={},p={};Object.keys(c.elements).forEach(w=>{v[w]=c.styles[w],p[w]=c.attributes[w]}),u({state:c,styles:v,attributes:p,update:f,forceUpdate:g,placement:c.placement})}}),[f,g,u]),x=o.useMemo(()=>(L(m.current,d)||(m.current=d),m.current),[d]);return o.useEffect(()=>{!a.current||!s||a.current.setOptions({placement:r,strategy:l,modifiers:[...x,h,qe]})},[l,r,h,s,x]),o.useEffect(()=>{if(!(!s||e==null||t==null))return a.current=We(e,t,Object.assign({},y,{placement:r,strategy:l,modifiers:[...x,Ge,h]})),()=>{a.current!=null&&(a.current.destroy(),a.current=void 0,u(c=>Object.assign({},c,{attributes:{},styles:{popper:{}}})))}},[s,e,t]),b}const X=()=>{};function Qe(e){return e.button===0}function Xe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const I=e=>e&&("current"in e?e.current:e),Z={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Ze(e,t=X,{disabled:n,clickTrigger:s="click"}={}){const r=o.useRef(!1),l=o.useRef(!1),d=o.useCallback(a=>{const f=I(e);Ne(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!f||Xe(a)||!Qe(a)||!!z(f,a.target)||l.current,l.current=!1},[e]),y=B(a=>{const f=I(e);f&&z(f,a.target)?l.current=!0:l.current=!1}),m=B(a=>{r.current||t(a)});o.useEffect(()=>{var a,f;if(n||e==null)return;const g=se(I(e)),b=g.defaultView||window;let u=(a=b.event)!=null?a:(f=b.parent)==null?void 0:f.event,h=null;Z[s]&&(h=M(g,Z[s],y,!0));const x=M(g,s,d,!0),c=M(g,s,p=>{if(p===u){u=void 0;return}m(p)});let v=[];return"ontouchstart"in g.documentElement&&(v=[].slice.call(g.body.children).map(p=>M(p,"mousemove",X))),()=>{h==null||h(),x(),c(),v.forEach(p=>p())}},[e,n,s,d,y,m])}function et(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function tt(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function nt({enabled:e,enableEvents:t,placement:n,flip:s,offset:r,fixed:l,containerPadding:d,arrowElement:y,popperConfig:m={}}){var a,f,g,b;const u=et(m.modifiers);return Object.assign({},m,{placement:n,enabled:e,strategy:l?"fixed":m.strategy,modifiers:tt(Object.assign({},u,{eventListeners:{enabled:t,options:(a=u.eventListeners)==null?void 0:a.options},preventOverflow:Object.assign({},u.preventOverflow,{options:Object.assign({padding:d},(f=u.preventOverflow)==null?void 0:f.options)}),offset:{options:Object.assign({offset:r},(g=u.offset)==null?void 0:g.options)},arrow:Object.assign({},u.arrow,{enabled:!!y,options:Object.assign({},(b=u.arrow)==null?void 0:b.options,{element:y})}),flip:Object.assign({enabled:!!s},u.flip)}))})}const st=()=>{};function rt(e,t,{disabled:n,clickTrigger:s}={}){const r=t||st;Ze(e,r,{disabled:n,clickTrigger:s});const l=B(d=>{Te(d)&&r(d)});o.useEffect(()=>{if(n||e==null)return;const d=se(I(e));let y=(d.defaultView||window).event;const m=M(d,"keyup",a=>{if(a===y){y=void 0;return}l(a)});return()=>{m()}},[e,n,l])}const ie=o.forwardRef((e,t)=>{const{flip:n,offset:s,placement:r,containerPadding:l,popperConfig:d={},transition:y,runTransition:m}=e,[a,f]=Y(),[g,b]=Y(),u=Re(f,t),h=V(e.container),x=V(e.target),[c,v]=o.useState(!e.show),p=Je(x,a,nt({placement:r,enableEvents:!!e.show,containerPadding:l||5,flip:n,offset:s,arrowElement:g,popperConfig:d}));e.show&&c&&v(!1);const w=(...P)=>{v(!0),e.onExited&&e.onExited(...P)},O=e.show||!c;if(rt(a,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!O)return null;const{onExit:C,onExiting:E,onEnter:R,onEntering:A,onEntered:_}=e;let k=e.children(Object.assign({},p.attributes.popper,{style:p.styles.popper,ref:u}),{popper:p,placement:r,show:!!e.show,arrowProps:Object.assign({},p.attributes.arrow,{style:p.styles.arrow,ref:b})});return k=Ee(y,m,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:C,onExiting:E,onExited:w,onEnter:R,onEntering:A,onEntered:_}),h?pe.createPortal(k,h):null});ie.displayName="Overlay";const oe=o.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=N(t,"popover-header"),i.jsx(n,{ref:r,className:F(e,t),...s})));oe.displayName="PopoverHeader";const H=o.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=N(t,"popover-body"),i.jsx(n,{ref:r,className:F(e,t),...s})));H.displayName="PopoverBody";function ae(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function ce(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const it=o.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:r,body:l,arrowProps:d,hasDoneInitialMeasure:y,popper:m,show:a,...f},g)=>{const b=N(e,"popover"),u=ne(),[h]=(t==null?void 0:t.split("-"))||[],x=ae(h,u);let c=s;return a&&!y&&(c={...s,...ce(m==null?void 0:m.strategy)}),i.jsxs("div",{ref:g,role:"tooltip",style:c,"x-placement":h,className:F(n,b,h&&`bs-popover-${x}`),...f,children:[i.jsx("div",{className:"popover-arrow",...d}),l?i.jsx(H,{children:r}):r]})}),ot=Object.assign(it,{Header:oe,Body:H,POPPER_OFFSET:[0,8]}),le=o.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:r,arrowProps:l,hasDoneInitialMeasure:d,popper:y,show:m,...a},f)=>{e=N(e,"tooltip");const g=ne(),[b]=(t==null?void 0:t.split("-"))||[],u=ae(b,g);let h=s;return m&&!d&&(h={...s,...ce(y==null?void 0:y.strategy)}),i.jsxs("div",{ref:f,style:h,role:"tooltip","x-placement":b,className:F(n,e,`bs-tooltip-${u}`),...a,children:[i.jsx("div",{className:"tooltip-arrow",...l}),i.jsx("div",{className:`${e}-inner`,children:r})]})});le.displayName="Tooltip";const ue=Object.assign(le,{TOOLTIP_OFFSET:[0,6]});function at(e){const t=o.useRef(null),n=N(void 0,"popover"),s=N(void 0,"tooltip"),r=o.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(q(t.current,n))return ot.POPPER_OFFSET;if(q(t.current,s))return ue.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,s]);return[t,[r]]}function ct(e,t){const{ref:n}=e,{ref:s}=t;e.ref=n.__wrapped||(n.__wrapped=r=>n(U(r))),t.ref=s.__wrapped||(s.__wrapped=r=>s(U(r)))}const de=o.forwardRef(({children:e,transition:t=G,popperConfig:n={},rootClose:s=!1,placement:r="top",show:l=!1,...d},y)=>{const m=o.useRef({}),[a,f]=o.useState(null),[g,b]=at(d.offset),u=re(y,g),h=t===!0?G:t||void 0,x=Me(c=>{f(c),n==null||n.onFirstUpdate==null||n.onFirstUpdate(c)});return Ue(()=>{a&&d.target&&(m.current.scheduleUpdate==null||m.current.scheduleUpdate())},[a,d.target]),o.useEffect(()=>{l||f(null)},[l]),i.jsx(ie,{...d,ref:u,popperConfig:{...n,modifiers:b.concat(n.modifiers||[]),onFirstUpdate:x},transition:h,rootClose:s,placement:r,show:l,children:(c,{arrowProps:v,popper:p,show:w})=>{var O;ct(c,v);const C=p==null?void 0:p.placement,E=Object.assign(m.current,{state:p==null?void 0:p.state,scheduleUpdate:p==null?void 0:p.update,placement:C,outOfBoundaries:(p==null||(O=p.state)==null||(O=O.modifiersData.hide)==null?void 0:O.isReferenceHidden)||!1,strategy:n.strategy}),R=!!a;return typeof e=="function"?e({...c,placement:C,show:w,...!t&&w&&{className:"show"},popper:E,arrowProps:v,hasDoneInitialMeasure:R}):o.cloneElement(e,{...c,placement:C,arrowProps:v,popper:E,hasDoneInitialMeasure:R,className:F(e.props.className,!t&&w&&"show"),style:{...e.props.style,...c.style}})}})});de.displayName="Overlay";function lt(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function ee(e,t,n){const[s]=t,r=s.currentTarget,l=s.relatedTarget||s.nativeEvent[n];(!l||l!==r)&&!z(r,l)&&e(...t)}Ce.oneOf(["click","hover","focus"]);const ut=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:s={},show:r,defaultShow:l=!1,onToggle:d,delay:y,placement:m,flip:a=m&&m.indexOf("auto")!==-1,...f})=>{const g=o.useRef(null),b=re(g,Le(n)),u=Se(),h=o.useRef(""),[x,c]=ke(r,l,d),v=lt(y),{onFocus:p,onBlur:w,onClick:O}=typeof n!="function"?o.Children.only(n).props:{},C=j=>{b(U(j))},E=o.useCallback(()=>{if(u.clear(),h.current="show",!v.show){c(!0);return}u.set(()=>{h.current==="show"&&c(!0)},v.show)},[v.show,c,u]),R=o.useCallback(()=>{if(u.clear(),h.current="hide",!v.hide){c(!1);return}u.set(()=>{h.current==="hide"&&c(!1)},v.hide)},[v.hide,c,u]),A=o.useCallback((...j)=>{E(),p==null||p(...j)},[E,p]),_=o.useCallback((...j)=>{R(),w==null||w(...j)},[R,w]),k=o.useCallback((...j)=>{c(!x),O==null||O(...j)},[O,c,x]),P=o.useCallback((...j)=>{ee(E,j,"fromElement")},[E]),fe=o.useCallback((...j)=>{ee(R,j,"toElement")},[R]),$=e==null?[]:[].concat(e),S={ref:C};return $.indexOf("click")!==-1&&(S.onClick=k),$.indexOf("focus")!==-1&&(S.onFocus=A,S.onBlur=_),$.indexOf("hover")!==-1&&(S.onMouseOver=P,S.onMouseOut=fe),i.jsxs(i.Fragment,{children:[typeof n=="function"?n(S):o.cloneElement(n,S),i.jsx(de,{...f,show:x,onHide:R,flip:a,placement:m,popperConfig:s,target:g.current,children:t})]})},dt=({onClick:e,pending:t})=>{const n=()=>{t||e()};return i.jsx("div",{className:"mt-auto d-flex mt-5 gap-2",children:i.jsxs(te,{className:"flex-grow-1 d-flex p-0 overflow-hidden border-0 rounded shadow-sm",style:{height:"3rem",borderRadius:"1rem",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",backgroundImage:"linear-gradient(to right, #2f336e, rgb(58, 212, 255))",backgroundSize:"200% 100%",transition:"background-size 0.3s ease"},onMouseEnter:s=>{s.currentTarget.style.backgroundSize="250% 100%"},onMouseLeave:s=>{s.currentTarget.style.backgroundSize="200% 100%"},onClick:n,disabled:t,children:[i.jsx(T.div,{className:"d-flex align-items-center justify-content-center bg-primary rounded text-white px-3",style:{minWidth:"3rem"},initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:i.jsx(ve,{size:35})}),i.jsx(T.div,{className:"d-flex align-items-center justify-content-center text-xl mx-1 text-white fw-bold flex-grow-1",style:{paddingLeft:"1rem",paddingRight:"1rem",marginRight:"10vh"},initial:{opacity:1},animate:{opacity:t?0:1},transition:{opacity:{duration:.3}},children:"Kosárba"})]})})},D="https://www.museumselection.co.uk/images/products/large/28889.jpg",St=()=>{const{id:e,category:t}=me({strict:!1}),n=he(),s=ge(),[r,l]=o.useState(null),[d,y]=o.useState(D),{dispatch:m}=xe(),[a,f]=o.useState(!1),[g,b]=o.useState(!0);o.useEffect(()=>{n.search&&s({to:n.pathname,search:{},replace:!0})},[n.search,s,n.pathname]),o.useEffect(()=>{(async()=>{try{const v=(await(await fetch("/insect-betyar/data.json")).json()).find(p=>p.id.toString()===e);l(v),y((v==null?void 0:v.picture)||D),b(!1)}catch(x){console.error("Error fetching item:",x),b(!1)}})()},[e]);const u=async()=>{f(!0),await new Promise(h=>setTimeout(h,800)),m({type:"ADD_ITEM",payload:{id:r.id,name:r.name,picture:r.picture,price:r.price}}),f(!1)};return g?i.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:i.jsx(W,{animation:"border",variant:"info"})}):r?i.jsxs(we,{className:"py-5",children:[i.jsxs(je,{className:"g-4 mb-4 mt-2",children:[i.jsx(K,{lg:6,children:i.jsx(T.div,{className:"rounded shadow overflow-hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-white",style:{height:"30rem",position:"relative"},children:i.jsx("img",{src:d,onError:()=>y(D),alt:r.name,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})})})}),i.jsx(K,{lg:6,children:i.jsxs(T.div,{className:"bg-dark text-light p-4 rounded shadow h-100 d-flex flex-column justify-content-between position-relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a&&i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-dark",style:{zIndex:10,opacity:.7},children:i.jsx(W,{animation:"border",variant:"info"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"border-bottom border-secondary pb-2 mb-4",children:r.name}),i.jsxs("p",{className:"fs-2 fw-bold mb-4",children:[i.jsx("span",{children:"Ár:"})," ",i.jsxs("span",{className:"text-info fs-1",children:[r.price," Ft"]})]})]}),i.jsx(dt,{onClick:u,pending:a})]})})]}),i.jsxs(T.div,{className:"bg-dark p-4 rounded shadow position-relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h5",{className:"text-secondary fw-bold border-bottom border-secondary mb-3",children:"Leírás"}),i.jsx("p",{className:"text-light mb-0",style:{whiteSpace:"pre-line"},children:r.description||"Nincs leírás elérhető ehhez az elemhez."}),i.jsx("div",{style:{position:"absolute",bottom:"20px",right:"20px",zIndex:999},children:i.jsx(ut,{placement:"top",overlay:i.jsx(ue,{id:"tooltip-back",children:"Vissza a kategóriához"}),children:i.jsx(ye,{to:`/about/category/${t}`,className:"text-decoration-none",children:i.jsxs(te,{className:"btn btn-dark border border-secondary text-light d-inline-flex align-items-center",children:[i.jsx(be,{className:"me-2"})," Vissza"]})})})})]})]}):i.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:i.jsx("div",{children:"No item found."})})};export{St as I};
