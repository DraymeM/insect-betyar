import{r as o,i as pe,j as i,h as me,g as he,L as ge}from"./router-CAEm-37Z.js";import{b as ye,d as ve}from"./index-B8XXmozB.js";import{B as te}from"./Button-4BwiO8O-.js";import{u as N,c as F,b as ne,m as T,a as be,C as we}from"./index-nKWK0Wqp.js";import{S as W}from"./Spinner-B0iXgm65.js";import{R as xe,C as K}from"./Row-DNGuaIR_.js";import{a as je,c as z,u as Oe,b as V,r as Re,h as q}from"./hasClass-sJrLr2td.js";import{P as Ee}from"./index-CscOspqo.js";import{u as Se}from"./useTimeout-Dvghgvbf.js";import{w as Ce}from"./warning-C13o4bTx.js";import{a as Ne}from"./hook-Cn0CBGad.js";import{u as B,o as se,l as M,f as re,e as ke,g as U}from"./useEventCallback-DPgXPFwG.js";import{i as Me,F as G,g as Te}from"./Fade-Cz9xL04f.js";import{p as Le,h as Fe,a as Ie,c as Ae,e as _e,o as Pe,f as $e,b as De,d as ze}from"./bootstrap-gBMG6YgA.js";import{u as Be}from"./useIsomorphicEffect-Cp1djnoC.js";function Y(){return o.useState(null)}var J=Object.prototype.hasOwnProperty;function Q(e,t,s){for(s of e.keys())if(L(s,t))return s}function L(e,t){var s,n,r;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&L(e[n],t[n]););return n===-1}if(s===Set){if(e.size!==t.size)return!1;for(n of e)if(r=n,r&&typeof r=="object"&&(r=Q(t,r),!r)||!t.has(r))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(n of e)if(r=n[0],r&&typeof r=="object"&&(r=Q(t,r),!r)||!L(n[1],t.get(r)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!s||typeof e=="object"){n=0;for(s in e)if(J.call(e,s)&&++n&&!J.call(t,s)||!(s in t)||!L(e[s],t[s]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function Ue(e){const t=je();return[e[0],o.useCallback(s=>{if(t())return e[1](s)},[t,e[1]])]}const He=Le({defaultModifiers:[Fe,Ie,Ae,_e,Pe,$e,De,ze]}),We=["enabled","placement","strategy","modifiers"];function Ke(e,t){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}const Ve={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},qe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:s}=e.elements;if("removeAttribute"in t){const n=(t.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==s.id);n.length?t.setAttribute("aria-describedby",n.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:s,reference:n}=e.elements,r=(t=s.getAttribute("role"))==null?void 0:t.toLowerCase();if(s.id&&r==="tooltip"&&"setAttribute"in n){const l=n.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;n.setAttribute("aria-describedby",l?`${l},${s.id}`:s.id)}}},Ge=[];function Ye(e,t,s={}){let{enabled:n=!0,placement:r="bottom",strategy:l="absolute",modifiers:d=Ge}=s,y=Ke(s,We);const f=o.useRef(d),a=o.useRef(),p=o.useCallback(()=>{var c;(c=a.current)==null||c.update()},[]),h=o.useCallback(()=>{var c;(c=a.current)==null||c.forceUpdate()},[]),[b,u]=Ue(o.useState({placement:r,update:p,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),g=o.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:c})=>{const v={},m={};Object.keys(c.elements).forEach(w=>{v[w]=c.styles[w],m[w]=c.attributes[w]}),u({state:c,styles:v,attributes:m,update:p,forceUpdate:h,placement:c.placement})}}),[p,h,u]),x=o.useMemo(()=>(L(f.current,d)||(f.current=d),f.current),[d]);return o.useEffect(()=>{!a.current||!n||a.current.setOptions({placement:r,strategy:l,modifiers:[...x,g,Ve]})},[l,r,g,n,x]),o.useEffect(()=>{if(!(!n||e==null||t==null))return a.current=He(e,t,Object.assign({},y,{placement:r,strategy:l,modifiers:[...x,qe,g]})),()=>{a.current!=null&&(a.current.destroy(),a.current=void 0,u(c=>Object.assign({},c,{attributes:{},styles:{popper:{}}})))}},[n,e,t]),b}const X=()=>{};function Je(e){return e.button===0}function Qe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const I=e=>e&&("current"in e?e.current:e),Z={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Xe(e,t=X,{disabled:s,clickTrigger:n="click"}={}){const r=o.useRef(!1),l=o.useRef(!1),d=o.useCallback(a=>{const p=I(e);Ce(!!p,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!p||Qe(a)||!Je(a)||!!z(p,a.target)||l.current,l.current=!1},[e]),y=B(a=>{const p=I(e);p&&z(p,a.target)?l.current=!0:l.current=!1}),f=B(a=>{r.current||t(a)});o.useEffect(()=>{var a,p;if(s||e==null)return;const h=se(I(e)),b=h.defaultView||window;let u=(a=b.event)!=null?a:(p=b.parent)==null?void 0:p.event,g=null;Z[n]&&(g=M(h,Z[n],y,!0));const x=M(h,n,d,!0),c=M(h,n,m=>{if(m===u){u=void 0;return}f(m)});let v=[];return"ontouchstart"in h.documentElement&&(v=[].slice.call(h.body.children).map(m=>M(m,"mousemove",X))),()=>{g==null||g(),x(),c(),v.forEach(m=>m())}},[e,s,n,d,y,f])}function Ze(e){const t={};return Array.isArray(e)?(e==null||e.forEach(s=>{t[s.name]=s}),t):e||t}function et(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function tt({enabled:e,enableEvents:t,placement:s,flip:n,offset:r,fixed:l,containerPadding:d,arrowElement:y,popperConfig:f={}}){var a,p,h,b;const u=Ze(f.modifiers);return Object.assign({},f,{placement:s,enabled:e,strategy:l?"fixed":f.strategy,modifiers:et(Object.assign({},u,{eventListeners:{enabled:t,options:(a=u.eventListeners)==null?void 0:a.options},preventOverflow:Object.assign({},u.preventOverflow,{options:Object.assign({padding:d},(p=u.preventOverflow)==null?void 0:p.options)}),offset:{options:Object.assign({offset:r},(h=u.offset)==null?void 0:h.options)},arrow:Object.assign({},u.arrow,{enabled:!!y,options:Object.assign({},(b=u.arrow)==null?void 0:b.options,{element:y})}),flip:Object.assign({enabled:!!n},u.flip)}))})}const nt=()=>{};function st(e,t,{disabled:s,clickTrigger:n}={}){const r=t||nt;Xe(e,r,{disabled:s,clickTrigger:n});const l=B(d=>{Me(d)&&r(d)});o.useEffect(()=>{if(s||e==null)return;const d=se(I(e));let y=(d.defaultView||window).event;const f=M(d,"keyup",a=>{if(a===y){y=void 0;return}l(a)});return()=>{f()}},[e,s,l])}const ie=o.forwardRef((e,t)=>{const{flip:s,offset:n,placement:r,containerPadding:l,popperConfig:d={},transition:y,runTransition:f}=e,[a,p]=Y(),[h,b]=Y(),u=Oe(p,t),g=V(e.container),x=V(e.target),[c,v]=o.useState(!e.show),m=Ye(x,a,tt({placement:r,enableEvents:!!e.show,containerPadding:l||5,flip:s,offset:n,arrowElement:h,popperConfig:d}));e.show&&c&&v(!1);const w=(...P)=>{v(!0),e.onExited&&e.onExited(...P)},j=e.show||!c;if(st(a,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!j)return null;const{onExit:S,onExiting:E,onEnter:R,onEntering:A,onEntered:_}=e;let k=e.children(Object.assign({},m.attributes.popper,{style:m.styles.popper,ref:u}),{popper:m,placement:r,show:!!e.show,arrowProps:Object.assign({},m.attributes.arrow,{style:m.styles.arrow,ref:b})});return k=Re(y,f,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:S,onExiting:E,onExited:w,onEnter:R,onEntering:A,onEntered:_}),g?pe.createPortal(k,g):null});ie.displayName="Overlay";const oe=o.forwardRef(({className:e,bsPrefix:t,as:s="div",...n},r)=>(t=N(t,"popover-header"),i.jsx(s,{ref:r,className:F(e,t),...n})));oe.displayName="PopoverHeader";const H=o.forwardRef(({className:e,bsPrefix:t,as:s="div",...n},r)=>(t=N(t,"popover-body"),i.jsx(s,{ref:r,className:F(e,t),...n})));H.displayName="PopoverBody";function ae(e,t){let s=e;return e==="left"?s=t?"end":"start":e==="right"&&(s=t?"start":"end"),s}function ce(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const rt=o.forwardRef(({bsPrefix:e,placement:t="right",className:s,style:n,children:r,body:l,arrowProps:d,hasDoneInitialMeasure:y,popper:f,show:a,...p},h)=>{const b=N(e,"popover"),u=ne(),[g]=(t==null?void 0:t.split("-"))||[],x=ae(g,u);let c=n;return a&&!y&&(c={...n,...ce(f==null?void 0:f.strategy)}),i.jsxs("div",{ref:h,role:"tooltip",style:c,"x-placement":g,className:F(s,b,g&&`bs-popover-${x}`),...p,children:[i.jsx("div",{className:"popover-arrow",...d}),l?i.jsx(H,{children:r}):r]})}),it=Object.assign(rt,{Header:oe,Body:H,POPPER_OFFSET:[0,8]}),le=o.forwardRef(({bsPrefix:e,placement:t="right",className:s,style:n,children:r,arrowProps:l,hasDoneInitialMeasure:d,popper:y,show:f,...a},p)=>{e=N(e,"tooltip");const h=ne(),[b]=(t==null?void 0:t.split("-"))||[],u=ae(b,h);let g=n;return f&&!d&&(g={...n,...ce(y==null?void 0:y.strategy)}),i.jsxs("div",{ref:p,style:g,role:"tooltip","x-placement":b,className:F(s,e,`bs-tooltip-${u}`),...a,children:[i.jsx("div",{className:"tooltip-arrow",...l}),i.jsx("div",{className:`${e}-inner`,children:r})]})});le.displayName="Tooltip";const ue=Object.assign(le,{TOOLTIP_OFFSET:[0,6]});function ot(e){const t=o.useRef(null),s=N(void 0,"popover"),n=N(void 0,"tooltip"),r=o.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(q(t.current,s))return it.POPPER_OFFSET;if(q(t.current,n))return ue.TOOLTIP_OFFSET}return[0,0]}}}),[e,s,n]);return[t,[r]]}function at(e,t){const{ref:s}=e,{ref:n}=t;e.ref=s.__wrapped||(s.__wrapped=r=>s(U(r))),t.ref=n.__wrapped||(n.__wrapped=r=>n(U(r)))}const de=o.forwardRef(({children:e,transition:t=G,popperConfig:s={},rootClose:n=!1,placement:r="top",show:l=!1,...d},y)=>{const f=o.useRef({}),[a,p]=o.useState(null),[h,b]=ot(d.offset),u=re(y,h),g=t===!0?G:t||void 0,x=ke(c=>{p(c),s==null||s.onFirstUpdate==null||s.onFirstUpdate(c)});return Be(()=>{a&&d.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[a,d.target]),o.useEffect(()=>{l||p(null)},[l]),i.jsx(ie,{...d,ref:u,popperConfig:{...s,modifiers:b.concat(s.modifiers||[]),onFirstUpdate:x},transition:g,rootClose:n,placement:r,show:l,children:(c,{arrowProps:v,popper:m,show:w})=>{var j;at(c,v);const S=m==null?void 0:m.placement,E=Object.assign(f.current,{state:m==null?void 0:m.state,scheduleUpdate:m==null?void 0:m.update,placement:S,outOfBoundaries:(m==null||(j=m.state)==null||(j=j.modifiersData.hide)==null?void 0:j.isReferenceHidden)||!1,strategy:s.strategy}),R=!!a;return typeof e=="function"?e({...c,placement:S,show:w,...!t&&w&&{className:"show"},popper:E,arrowProps:v,hasDoneInitialMeasure:R}):o.cloneElement(e,{...c,placement:S,arrowProps:v,popper:E,hasDoneInitialMeasure:R,className:F(e.props.className,!t&&w&&"show"),style:{...e.props.style,...c.style}})}})});de.displayName="Overlay";function ct(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function ee(e,t,s){const[n]=t,r=n.currentTarget,l=n.relatedTarget||n.nativeEvent[s];(!l||l!==r)&&!z(r,l)&&e(...t)}Ee.oneOf(["click","hover","focus"]);const lt=({trigger:e=["hover","focus"],overlay:t,children:s,popperConfig:n={},show:r,defaultShow:l=!1,onToggle:d,delay:y,placement:f,flip:a=f&&f.indexOf("auto")!==-1,...p})=>{const h=o.useRef(null),b=re(h,Te(s)),u=Se(),g=o.useRef(""),[x,c]=Ne(r,l,d),v=ct(y),{onFocus:m,onBlur:w,onClick:j}=typeof s!="function"?o.Children.only(s).props:{},S=O=>{b(U(O))},E=o.useCallback(()=>{if(u.clear(),g.current="show",!v.show){c(!0);return}u.set(()=>{g.current==="show"&&c(!0)},v.show)},[v.show,c,u]),R=o.useCallback(()=>{if(u.clear(),g.current="hide",!v.hide){c(!1);return}u.set(()=>{g.current==="hide"&&c(!1)},v.hide)},[v.hide,c,u]),A=o.useCallback((...O)=>{E(),m==null||m(...O)},[E,m]),_=o.useCallback((...O)=>{R(),w==null||w(...O)},[R,w]),k=o.useCallback((...O)=>{c(!x),j==null||j(...O)},[j,c,x]),P=o.useCallback((...O)=>{ee(E,O,"fromElement")},[E]),fe=o.useCallback((...O)=>{ee(R,O,"toElement")},[R]),$=e==null?[]:[].concat(e),C={ref:S};return $.indexOf("click")!==-1&&(C.onClick=k),$.indexOf("focus")!==-1&&(C.onFocus=A,C.onBlur=_),$.indexOf("hover")!==-1&&(C.onMouseOver=P,C.onMouseOut=fe),i.jsxs(i.Fragment,{children:[typeof s=="function"?s(C):o.cloneElement(s,C),i.jsx(de,{...p,show:x,onHide:R,flip:a,placement:f,popperConfig:n,target:h.current,children:t})]})},ut=({onClick:e,pending:t})=>{const s=()=>{t||e()};return i.jsx("div",{className:"mt-auto d-flex mt-5 gap-2",children:i.jsxs(te,{className:"flex-grow-1 d-flex p-0 overflow-hidden border-0 rounded shadow-sm",style:{height:"3rem",borderRadius:"1rem",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",backgroundImage:"linear-gradient(to right, #2f336e, rgb(58, 212, 255))",backgroundSize:"200% 100%",transition:"background-size 0.3s ease"},onMouseEnter:n=>{n.currentTarget.style.backgroundSize="250% 100%"},onMouseLeave:n=>{n.currentTarget.style.backgroundSize="200% 100%"},onClick:s,disabled:t,children:[i.jsx(T.div,{className:"d-flex align-items-center justify-content-center bg-primary rounded text-white px-3",style:{minWidth:"3rem"},initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:i.jsx(ye,{size:35})}),i.jsx(T.div,{className:"d-flex align-items-center justify-content-center text-xl mx-1 text-white fw-bold flex-grow-1",style:{paddingLeft:"1rem",paddingRight:"1rem",marginRight:"10vh"},initial:{opacity:1},animate:{opacity:t?0:1},transition:{opacity:{duration:.3}},children:"Kosárba"})]})})},D="https://www.museumselection.co.uk/images/products/large/28889.jpg",St=()=>{const{id:e,category:t}=me({strict:!1}),s=he(),[n,r]=o.useState(null),[l,d]=o.useState(D),{dispatch:y}=be(),[f,a]=o.useState(!1),[p,h]=o.useState(!0),b=new URLSearchParams(s.search),u=b.get("page")||"1",g=b.get("limit")||"10";o.useEffect(()=>{(async()=>{try{const w=(await(await fetch("/insect-betyar/data.json")).json()).find(j=>j.id.toString()===e);r(w),d((w==null?void 0:w.picture)||D),h(!1)}catch(v){console.error("Error fetching item:",v),h(!1)}})()},[e]);const x=async()=>{a(!0),await new Promise(c=>setTimeout(c,800)),y({type:"ADD_ITEM",payload:{id:n.id,name:n.name,picture:n.picture,price:n.price}}),a(!1)};return p?i.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:i.jsx(W,{animation:"border",variant:"info"})}):n?i.jsxs(we,{className:"py-5",children:[i.jsxs(xe,{className:"g-4 mb-4 mt-2",children:[i.jsx(K,{lg:6,children:i.jsx(T.div,{className:"rounded shadow overflow-hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:i.jsx("div",{className:"d-flex align-items-center justify-content-center bg-white",style:{height:"30rem",position:"relative"},children:i.jsx("img",{src:l,onError:()=>d(D),alt:n.name,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})})})}),i.jsx(K,{lg:6,children:i.jsxs(T.div,{className:"bg-dark text-light p-4 rounded shadow h-100 d-flex flex-column justify-content-between position-relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[f&&i.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-dark",style:{zIndex:10,opacity:.7},children:i.jsx(W,{animation:"border",variant:"info"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"border-bottom border-secondary pb-2 mb-4",children:n.name}),i.jsxs("p",{className:"fs-2 fw-bold mb-4",children:[i.jsx("span",{children:"Ár:"})," ",i.jsxs("span",{className:"text-info fs-1",children:[n.price," Ft"]})]})]}),i.jsx(ut,{onClick:x,pending:f})]})})]}),i.jsxs(T.div,{className:"bg-dark p-4 rounded shadow position-relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h5",{className:"text-secondary fw-bold border-bottom border-secondary mb-3",children:"Leírás"}),i.jsx("p",{className:"text-light mb-0",style:{whiteSpace:"pre-line"},children:n.description||"Nincs leírás elérhető ehhez az elemhez."}),i.jsx("div",{style:{position:"absolute",bottom:"20px",right:"20px",zIndex:999},children:i.jsx(lt,{placement:"top",overlay:i.jsx(ue,{id:"tooltip-back",children:"Vissza a kategóriához"}),children:i.jsx(ge,{to:`/about/category/${t}?page=${u}&limit=${g}`,className:"text-decoration-none",children:i.jsxs(te,{className:"btn btn-dark border border-secondary text-light d-inline-flex align-items-center",children:[i.jsx(ve,{className:"me-2"})," Vissza"]})})})})]})]}):i.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:i.jsx("div",{children:"No item found."})})};export{St as I};
