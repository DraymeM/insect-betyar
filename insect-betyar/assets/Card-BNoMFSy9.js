import{r as i,j as e,L as k}from"./router-Cj35iyZR.js";import{e as I,m as n}from"./index-DR-O2BqG.js";import{b as C}from"./index-DDovxtUh.js";import{S as E}from"./Spinner-_4wh1LvZ.js";const V="https://www.museumselection.co.uk/images/products/large/28889.jpg",T=({id:l,name:o,picture:h,price:m,category:b})=>{const[x,v]=i.useState(h),[s,f]=i.useState(!1),[g,u]=i.useState(!1),a=i.useRef(null),{dispatch:y}=I();i.useEffect(()=>{const t=new IntersectionObserver(r=>{const c=r[0];f(c.isIntersecting)},{threshold:0});return a.current&&t.observe(a.current),()=>{a.current&&t.unobserve(a.current)}},[]);const j={hidden:{opacity:0,y:60},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{border:"2px solid #41d5f5",borderColor:"#41d5f5",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.2}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.4}}},N=t=>{t.preventDefault(),u(!0),setTimeout(()=>{y({type:"ADD_ITEM",payload:{id:l,name:o,picture:h,price:m}}),u(!1)},800)},[p,S]=i.useState("8rem");return i.useEffect(()=>{const t=window.matchMedia("(min-width: 768px)"),r=c=>{S(c.matches?"10rem":"8rem")};return r(t),t.addEventListener("change",r),()=>t.removeEventListener("change",r)},[]),e.jsxs(n.div,{ref:a,className:"card bg-dark  border border-2 border-secondary rounded-3 overflow-hidden position-relative",variants:j,initial:"hidden",animate:s?"visible":"hidden",whileHover:"hover",whileTap:"tap",style:{cursor:"pointer"},children:[g&&e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-dark",style:{zIndex:10},children:e.jsx(E,{animation:"border",variant:"info"})}),e.jsxs(k,{to:`/about/category/${b}/item/${l}`,className:"text-decoration-none text-white",children:[e.jsx("div",{className:"p-3 pb-0",children:e.jsx(n.div,{className:"rounded-2 overflow-hidden bg-dark",style:{position:"relative",paddingBottom:"100%",width:"100%",maxWidth:p,minWidth:p},variants:w,initial:"hidden",animate:s?"visible":"hidden",children:e.jsx(n.img,{src:x,alt:o,className:"w-100 h-100",style:{position:"absolute",top:0,left:0,objectFit:"cover",objectPosition:"center"},onError:()=>v(V)})})}),e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between pt-0",children:[e.jsx(n.h5,{className:"text-center text-light mt-2",variants:d,initial:"hidden",animate:s?"visible":"hidden",children:o}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[e.jsxs(n.h5,{className:"text-center underline text-info mb-0",variants:d,initial:"hidden",animate:s?"visible":"hidden",children:[m," Ft"]}),e.jsx(n.button,{className:"btn mx-0",variants:d,initial:"hidden",animate:s?"visible":"hidden",style:{background:"linear-gradient(to right, #2f336e, rgb(58, 212, 255))",border:"none",color:"white",padding:"10px 12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background 0.3s ease"},onClick:N,whileHover:{background:"linear-gradient(to right, #2f336e 0%, rgb(58, 212, 255) 100%)",backgroundSize:"200%"},children:e.jsx(C,{size:20})})]})]})]})]})};export{T as C};
